<!DOCTYPE html>
<html lang="ru-RU" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>18. –ö–æ–¥ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –ø–æ–Ω—è—Ç–µ–Ω –¥–∞–∂–µ –µ–∂—É | –§–∏–ª–æ—Å–æ—Ñ–∏—è –¥–∏–∑–∞–π–Ω–∞ –ü–û</title>
    <meta name="description" content="A VitePress site">
    <meta name="generator" content="VitePress v1.6.4">
    <link rel="preload stylesheet" href="/a-philosophy-of-software-design/assets/style.CSPm08Rv.css" as="style">
    <link rel="preload stylesheet" href="/a-philosophy-of-software-design/vp-icons.css" as="style">
    
    <script type="module" src="/a-philosophy-of-software-design/assets/app.DVEU4zNL.js"></script>
    <link rel="preload" href="/a-philosophy-of-software-design/assets/inter-roman-latin.Di8DUHzh.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="modulepreload" href="/a-philosophy-of-software-design/assets/chunks/theme.DDW5w42F.js">
    <link rel="modulepreload" href="/a-philosophy-of-software-design/assets/chunks/framework.CM3gOIkZ.js">
    <link rel="modulepreload" href="/a-philosophy-of-software-design/assets/code-should-be-obvious.md.BhpGekVF.lean.js">
    <script id="check-dark-mode">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"auto",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
    <script id="check-mac-os">document.documentElement.classList.toggle("mac",/Mac|iPhone|iPod|iPad/i.test(navigator.platform));</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-5d98c3a5><!--[--><!--]--><!--[--><span tabindex="-1" data-v-0b0ada53></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-0b0ada53>Skip to content</a><!--]--><!----><header class="VPNav" data-v-5d98c3a5 data-v-ae24b3ad><div class="VPNavBar" data-v-ae24b3ad data-v-6aa21345><div class="wrapper" data-v-6aa21345><div class="container" data-v-6aa21345><div class="title" data-v-6aa21345><div class="VPNavBarTitle has-sidebar" data-v-6aa21345 data-v-1168a8e4><a class="title" href="/a-philosophy-of-software-design/" data-v-1168a8e4><!--[--><!--]--><!----><span data-v-1168a8e4>–§–∏–ª–æ—Å–æ—Ñ–∏—è –¥–∏–∑–∞–π–Ω–∞ –ü–û</span><!--[--><!--]--></a></div></div><div class="content" data-v-6aa21345><div class="content-body" data-v-6aa21345><!--[--><!--]--><div class="VPNavBarSearch search" data-v-6aa21345><!----></div><!----><!----><div class="VPNavBarAppearance appearance" data-v-6aa21345 data-v-6c893767><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-6c893767 data-v-5337faa4 data-v-1d5665e3><span class="check" data-v-1d5665e3><span class="icon" data-v-1d5665e3><!--[--><span class="vpi-sun sun" data-v-5337faa4></span><span class="vpi-moon moon" data-v-5337faa4></span><!--]--></span></span></button></div><div class="VPSocialLinks VPNavBarSocialLinks social-links" data-v-6aa21345 data-v-0394ad82 data-v-7bc22406><!--[--><a class="VPSocialLink no-icon" href="https://github.com/Exoldy/a-philosophy-of-software-design/" aria-label="github" target="_blank" rel="noopener" data-v-7bc22406 data-v-bd121fe5><span class="vpi-social-github"></span></a><!--]--></div><div class="VPFlyout VPNavBarExtra extra" data-v-6aa21345 data-v-bb2aa2f0 data-v-cf11d7a2><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-cf11d7a2><span class="vpi-more-horizontal icon" data-v-cf11d7a2></span></button><div class="menu" data-v-cf11d7a2><div class="VPMenu" data-v-cf11d7a2 data-v-b98bc113><!----><!--[--><!--[--><!----><div class="group" data-v-bb2aa2f0><div class="item appearance" data-v-bb2aa2f0><p class="label" data-v-bb2aa2f0>Appearance</p><div class="appearance-action" data-v-bb2aa2f0><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-bb2aa2f0 data-v-5337faa4 data-v-1d5665e3><span class="check" data-v-1d5665e3><span class="icon" data-v-1d5665e3><!--[--><span class="vpi-sun sun" data-v-5337faa4></span><span class="vpi-moon moon" data-v-5337faa4></span><!--]--></span></span></button></div></div></div><div class="group" data-v-bb2aa2f0><div class="item social-links" data-v-bb2aa2f0><div class="VPSocialLinks social-links-list" data-v-bb2aa2f0 data-v-7bc22406><!--[--><a class="VPSocialLink no-icon" href="https://github.com/Exoldy/a-philosophy-of-software-design/" aria-label="github" target="_blank" rel="noopener" data-v-7bc22406 data-v-bd121fe5><span class="vpi-social-github"></span></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-6aa21345 data-v-e5dd9c1c><span class="container" data-v-e5dd9c1c><span class="top" data-v-e5dd9c1c></span><span class="middle" data-v-e5dd9c1c></span><span class="bottom" data-v-e5dd9c1c></span></span></button></div></div></div></div><div class="divider" data-v-6aa21345><div class="divider-line" data-v-6aa21345></div></div></div><!----></header><div class="VPLocalNav has-sidebar empty" data-v-5d98c3a5 data-v-a6f0e41e><div class="container" data-v-a6f0e41e><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-a6f0e41e><span class="vpi-align-left menu-icon" data-v-a6f0e41e></span><span class="menu-text" data-v-a6f0e41e>Menu</span></button><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-a6f0e41e data-v-8a42e2b4><button data-v-8a42e2b4>Return to top</button><!----></div></div></div><aside class="VPSidebar" data-v-5d98c3a5 data-v-319d5ca6><div class="curtain" data-v-319d5ca6></div><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-319d5ca6><span class="visually-hidden" id="sidebar-aria-label" data-v-319d5ca6> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="no-transition group" data-v-c40bc020><section class="VPSidebarItem level-0 has-active" data-v-c40bc020 data-v-b3fd67f8><!----><div class="items" data-v-b3fd67f8><!--[--><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/a-philosophy-of-software-design/preface.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>0 ÂâçË®Ä</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/a-philosophy-of-software-design/introduction.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>1 ‰ªãÁªç</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/a-philosophy-of-software-design/the-nature-of-complexity.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>2 Â§çÊùÇÂ∫¶ÁöÑÊú¨Ë¥®</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/a-philosophy-of-software-design/working-code-is-not-enough.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>3 ÂèØËøêË°åÁöÑ‰ª£Á†ÅÊòØ‰∏çÂ§üÁöÑ</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/a-philosophy-of-software-design/modules-should-be-deep.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>4 Ê®°ÂùóÂ∫îÊ∑±Âéö</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/a-philosophy-of-software-design/information-hiding-and-leakage.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>5 ‰ø°ÊÅØÈöêËóèÔºàÂíåÊ≥ÑÊºèÔºâ</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/a-philosophy-of-software-design/general-purpose-modules-are-deeper.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>6 General-Purpose Modules are Deeper</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/a-philosophy-of-software-design/different-layer-different-abstraction.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>7 Different Layer, Different Abstraction</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/a-philosophy-of-software-design/pull-complexity-downwards.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>8 Pull Complexity Downwards</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/a-philosophy-of-software-design/better-together-or-better-apart.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>9 Better Together Or Better Apart?</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/a-philosophy-of-software-design/define-errors-out-of-existence.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>10 Define Errors Out Of Existence</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/a-philosophy-of-software-design/design-it-twice.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>11 Design it Twice</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/a-philosophy-of-software-design/why-write-comments-the-four-excuses.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>12 Why Write Comments? The Four Excuses</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/a-philosophy-of-software-design/comments-should-describe-things-that-are-not-obvious-from-the-code.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>13 Comments Should Describe Things that Aren‚Äôt Obvious from the Code</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/a-philosophy-of-software-design/choosing-names.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>14 Choosing Names</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/a-philosophy-of-software-design/write-the-comments-first.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>15 Write The Comments First</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/a-philosophy-of-software-design/modifying-existing-code.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>16 Modifying Existing Code</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/a-philosophy-of-software-design/consistency.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>17 Consistency</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/a-philosophy-of-software-design/code-should-be-obvious.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>18 Code Should be Obvious</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/a-philosophy-of-software-design/software-trends.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>19 Software Trends</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/a-philosophy-of-software-design/designing-for-performance.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>20 Designing for Performance</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/a-philosophy-of-software-design/decide-what-matters.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>21 Decide What Matters</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/a-philosophy-of-software-design/conclusion.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>22 Conclusion</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/a-philosophy-of-software-design/summary.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>Summary</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><!--]--><!--[--><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-5d98c3a5 data-v-1428d186><div class="VPDoc has-sidebar has-aside" data-v-1428d186 data-v-39a288b8><!--[--><!--]--><div class="container" data-v-39a288b8><div class="aside" data-v-39a288b8><div class="aside-curtain" data-v-39a288b8></div><div class="aside-container" data-v-39a288b8><div class="aside-content" data-v-39a288b8><div class="VPDocAside" data-v-39a288b8 data-v-3f215769><!--[--><!--]--><!--[--><!--]--><nav aria-labelledby="doc-outline-aria-label" class="VPDocAsideOutline" data-v-3f215769 data-v-a5bbad30><div class="content" data-v-a5bbad30><div class="outline-marker" data-v-a5bbad30></div><div aria-level="2" class="outline-title" id="doc-outline-aria-label" role="heading" data-v-a5bbad30>On this page</div><ul class="VPDocOutlineItem root" data-v-a5bbad30 data-v-b933a997><!--[--><!--]--></ul></div></nav><!--[--><!--]--><div class="spacer" data-v-3f215769></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-39a288b8><div class="content-container" data-v-39a288b8><!--[--><!--]--><main class="main" data-v-39a288b8><div style="position:relative;" class="vp-doc _a-philosophy-of-software-design_code-should-be-obvious" data-v-39a288b8><div><h1 id="_18-–∫–æ–¥-–¥–æ–ª–∂–µ–Ω-–±—ã—Ç—å-–ø–æ–Ω—è—Ç–µ–Ω-–¥–∞–∂–µ-–µ–∂—É" tabindex="-1"><strong>18. –ö–æ–¥ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –ø–æ–Ω—è—Ç–µ–Ω –¥–∞–∂–µ –µ–∂—É</strong> <a class="header-anchor" href="#_18-–∫–æ–¥-–¥–æ–ª–∂–µ–Ω-–±—ã—Ç—å-–ø–æ–Ω—è—Ç–µ–Ω-–¥–∞–∂–µ-–µ–∂—É" aria-label="Permalink to &quot;**18. –ö–æ–¥ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –ø–æ–Ω—è—Ç–µ–Ω –¥–∞–∂–µ –µ–∂—É**&quot;">‚Äã</a></h1><p><strong>(–ò —Ç–≤–æ–µ–º—É –±—É–¥—É—â–µ–º—É –ø–æ—Ö–º–µ–ª—å–Ω–æ–º—É &#39;—è&#39;)</strong></p><p>¬´–ù–µ–ø–æ–Ω—è—Ç–Ω–æ—Å—Ç—å¬ª (Obscurity) ‚Äî —ç—Ç–æ –æ–¥–∏–Ω –∏–∑ –¥–≤—É—Ö –≤—Å–∞–¥–Ω–∏–∫–æ–≤ –ê–ø–æ–∫–∞–ª–∏–ø—Å–∏—Å–∞ —Å–ª–æ–∂–Ω–æ—Å—Ç–∏, –æ –∫–æ—Ç–æ—Ä—ã—Ö –º—ã –≥–æ–≤–æ—Ä–∏–ª–∏ –≤ —Ä–∞–∑–¥–µ–ª–µ 2.3. –ù–µ–ø–æ–Ω—è—Ç–Ω–æ—Å—Ç—å –≤–æ–∑–Ω–∏–∫–∞–µ—Ç, –∫–æ–≥–¥–∞ –≤–∞–∂–Ω–∞—è –∏–Ω—Ñ–∞ –æ —Å–∏—Å—Ç–µ–º–µ –Ω–∏—Ö—Ä–µ–Ω–∞ –Ω–µ –æ—á–µ–≤–∏–¥–Ω–∞ –Ω–æ–≤—ã–º —Ä–∞–∑—Ä–∞–±–∞–º. –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã –≥–µ–Ω–∏–∞–ª—å–Ω–æ –ø—Ä–æ—Å—Ç–æ–µ: –ø–∏—à–∏ –∫–æ–¥ —Ç–∞–∫, —á—Ç–æ–±—ã –æ–Ω –±—ã–ª, —Å—É–∫–∞, –æ—á–µ–≤–∏–¥–Ω—ã–º. –í —ç—Ç–æ–π –≥–ª–∞–≤–µ –º—ã –æ–±—Å–æ—Å–µ–º —Ñ–∞–∫—Ç–æ—Ä—ã, –∫–æ—Ç–æ—Ä—ã–µ –¥–µ–ª–∞—é—Ç –∫–æ–¥ –ª–∏–±–æ –ø–æ–Ω—è—Ç–Ω—ã–º, –ª–∏–±–æ –∑–∞–≥–∞–¥–∫–æ–π –æ—Ç –ñ–∞–∫–∞ –§—Ä–µ—Å–∫–æ.</p><p>–ï—Å–ª–∏ –∫–æ–¥ –æ—á–µ–≤–∏–¥–µ–Ω, —ç—Ç–æ –∑–Ω–∞—á–∏—Ç, —á—Ç–æ –ª—é–±–æ–π –º–∏–º–æ–∫—Ä–æ–∫–æ–¥–∏–ª –º–æ–∂–µ—Ç –±—ã—Å—Ç—Ä–æ –ø—Ä–æ–±–µ–∂–∞—Ç—å –µ–≥–æ –≥–ª–∞–∑–∞–º–∏, –æ—Å–æ–±–æ –Ω–µ –Ω–∞–ø—Ä—è–≥–∞—è –∏–∑–≤–∏–ª–∏–Ω—ã, –∏ –µ–≥–æ –ø–µ—Ä–≤–∞—è –¥–æ–≥–∞–¥–∫–∞ –æ —Ç–æ–º, —á—Ç–æ —ç—Ç–æ—Ç –∫–æ–¥ –¥–µ–ª–∞–µ—Ç, –æ–∫–∞–∂–µ—Ç—Å—è –≤–µ—Ä–Ω–æ–π. –ï—Å–ª–∏ –∫–æ–¥ –æ—á–µ–≤–∏–¥–µ–Ω, —á–∏—Ç–∞—Ç–µ–ª—é –Ω–µ –Ω—É–∂–Ω–æ —Ç—Ä–∞—Ç–∏—Ç—å —á–∞—Å—ã –∏ –Ω–µ—Ä–≤–Ω—ã–µ –∫–ª–µ—Ç–∫–∏, —á—Ç–æ–±—ã —Å–æ–±—Ä–∞—Ç—å –≤ –∫—É—á—É –≤—Å—é –∏–Ω—Ñ—É –¥–ª—è —Ä–∞–±–æ—Ç—ã. –ï—Å–ª–∏ –∂–µ –∫–æ–¥ <strong>–Ω–µ</strong> –æ—á–µ–≤–∏–¥–µ–Ω, —á–∏—Ç–∞—Ç–µ–ª—å —Ç—Ä–∞—Ç–∏—Ç —É–π–º—É –≤—Ä–µ–º–µ–Ω–∏ –∏ —ç–Ω–µ—Ä–≥–∏–∏, –ø—ã—Ç–∞—è—Å—å –≤—Ä—É–±–∏—Ç—å—Å—è –≤ —Ç–≤–æ–π –ø–æ–ª–µ—Ç –º—ã—Å–ª–∏. –≠—Ç–æ –Ω–µ —Ç–æ–ª—å–∫–æ —É–±–∏–≤–∞–µ—Ç –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç—å, –Ω–æ –∏ –ø–ª–æ–¥–∏—Ç –±–∞–≥–∏, –ø–æ—Ç–æ–º—É —á—Ç–æ –æ–Ω –≤—Å—ë —Ä–∞–≤–Ω–æ –ø–æ–π–º–µ—Ç –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ. –û—á–µ–≤–∏–¥–Ω–æ–º—É –∫–æ–¥—É –Ω—É–∂–Ω–æ –º–µ–Ω—å—à–µ –∫–æ–º–º–µ–Ω—Ç–æ–≤, —á–µ–º —Ç–≤–æ–µ–º—É –º–∞–∫–∞—Ä–æ–Ω–Ω–æ–º—É –º–æ–Ω—Å—Ç—Ä—É.</p><p>¬´–û—á–µ–≤–∏–¥–Ω–æ—Å—Ç—å¬ª ‚Äî –ø–æ–Ω—è—Ç–∏–µ —Å—É–±—ä–µ–∫—Ç–∏–≤–Ω–æ–µ, –æ–Ω–æ –≤ –≥–æ–ª–æ–≤–µ —É —á–∏—Ç–∞—Ç–µ–ª—è. –ó–∞–º–µ—Ç–∏—Ç—å, —á—Ç–æ —á—É–∂–æ–π –∫–æ–¥ ‚Äî –º—É—Ç–Ω–∞—è —Ö–µ—Ä–Ω—è, –≥–æ—Ä–∞–∑–¥–æ –ø—Ä–æ—â–µ, —á–µ–º –ø—Ä–∏–∑–Ω–∞—Ç—å —ç—Ç–æ –≤ —Å–≤–æ–µ–º. –ü–æ—ç—Ç–æ–º—É –ª—É—á—à–∏–π —Å–ø–æ—Å–æ–± –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–¥ –Ω–∞ –≤—à–∏–≤–æ—Å—Ç—å ‚Äî —ç—Ç–æ –∫–æ–¥-—Ä–µ–≤—å—é. –ï—Å–ª–∏ –∫—Ç–æ-—Ç–æ –Ω–∞ —Ä–µ–≤—å—é –≥–æ–≤–æ—Ä–∏—Ç, —á—Ç–æ —Ç–≤–æ–π –∫–æ–¥ –Ω–µ–æ—á–µ–≤–∏–¥–µ–Ω ‚Äî –∑–Ω–∞—á–∏—Ç, –æ–Ω, –±–ª—è—Ç—å, –Ω–µ–æ—á–µ–≤–∏–¥–µ–Ω, –∏ –ø–ª–µ–≤–∞—Ç—å, –Ω–∞—Å–∫–æ–ª—å–∫–æ –ø—Ä–æ–∑—Ä–∞—á–Ω—ã–º –æ–Ω –∫–∞–∂–µ—Ç—Å—è —Ç–µ–±–µ. –ü–æ–ø—ã—Ç–∞–π—Å—è –ø–æ–Ω—è—Ç—å, —á—Ç–æ –∏–º–µ–Ω–Ω–æ –≤–≤–µ–ª–æ –∫–æ–ª–ª–µ–≥—É –≤ —Å—Ç—É–ø–æ—Ä, –∏ –≤ –±—É–¥—É—â–µ–º —Ç—ã, –≤–æ–∑–º–æ–∂–Ω–æ, –ø–µ—Ä–µ—Å—Ç–∞–Ω–µ—à—å –ø–∏—Å–∞—Ç—å –∫–∞–∫ –º—É–¥–∞–∫.</p><h2 id="_18-1-—Å–¥–µ–ª–∞–∏-–∫–æ–¥-–æ—á–µ–≤–∏–¥–Ω—ã–º-–∫—ç–ø-—Å–ø–µ—à–∏—Ç-–Ω–∞-–ø–æ–º–æ—â—å" tabindex="-1"><strong>18.1 –°–¥–µ–ª–∞–π –∫–æ–¥ –æ—á–µ–≤–∏–¥–Ω—ã–º (–ö—ç–ø —Å–ø–µ—à–∏—Ç –Ω–∞ –ø–æ–º–æ—â—å)</strong> <a class="header-anchor" href="#_18-1-—Å–¥–µ–ª–∞–∏-–∫–æ–¥-–æ—á–µ–≤–∏–¥–Ω—ã–º-–∫—ç–ø-—Å–ø–µ—à–∏—Ç-–Ω–∞-–ø–æ–º–æ—â—å" aria-label="Permalink to &quot;**18.1 –°–¥–µ–ª–∞–π –∫–æ–¥ –æ—á–µ–≤–∏–¥–Ω—ã–º (–ö—ç–ø —Å–ø–µ—à–∏—Ç –Ω–∞ –ø–æ–º–æ—â—å)**&quot;">‚Äã</a></h2><p>–î–≤–∞ –≥–ª–∞–≤–Ω—ã—Ö –ø—Ä–∏–µ–º–∞ –º—ã —É–∂–µ –æ–±–º—É—Å–æ–ª–∏–ª–∏ –≤ –ø—Ä–æ—à–ª—ã—Ö –≥–ª–∞–≤–∞—Ö, –Ω–æ –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏–µ ‚Äî –º–∞—Ç—å —É—á–µ–Ω–∏—è.</p><ol><li><strong>–í—ã–±–æ—Ä –Ω–æ—Ä–º–∞–ª—å–Ω—ã—Ö –∏–º–µ–Ω</strong> (–ì–ª–∞–≤–∞ 14). –¢–æ—á–Ω—ã–µ –∏ —Å–º—ã—Å–ª–æ–≤—ã–µ –∏–º–µ–Ω–∞ –æ–±—ä—è—Å–Ω—è—é—Ç –ø–æ–≤–µ–¥–µ–Ω–∏–µ –∫–æ–¥–∞ –ª—É—á—à–µ –ª—é–±–æ–π –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏. –ï—Å–ª–∏ –∏–º—è –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π —Ç—É–º–∞–Ω–Ω–æ–µ –∏–ª–∏ –¥–≤—É—Å–º—ã—Å–ª–µ–Ω–Ω–æ–µ, —á–∏—Ç–∞—Ç–µ–ª—é –ø—Ä–∏–¥–µ—Ç—Å—è –ø–µ—Ä–µ—Ä—ã—Ç—å –≤–µ—Å—å –∫–æ–¥, —á—Ç–æ–±—ã –¥–µ–¥—É–∫—Ç–∏–≤–Ω—ã–º –º–µ—Ç–æ–¥–æ–º –≤—ã—á–∏—Å–ª–∏—Ç—å, —á—Ç–æ —ç—Ç–æ –∑–∞ —Å—É—â–Ω–æ—Å—Ç—å. –≠—Ç–æ –¥–æ–ª–≥–æ –∏ —á—Ä–µ–≤–∞—Ç–æ —Ñ–∞–∫–∞–ø–∞–º–∏.</li><li><strong>–°–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ—Å—Ç—å</strong> (–ì–ª–∞–≤–∞ 17). –ï—Å–ª–∏ –ø–æ—Ö–æ–∂–∏–µ –≤–µ—â–∏ –¥–µ–ª–∞—é—Ç—Å—è –æ–¥–∏–Ω–∞–∫–æ–≤–æ, —á–∏—Ç–∞—Ç–µ–ª—å —É–∑–Ω–∞–µ—Ç –ø–∞—Ç—Ç–µ—Ä–Ω –∏ —Å—Ä–∞–∑—É –¥–µ–ª–∞–µ—Ç (–±–µ–∑–æ–ø–∞—Å–Ω—ã–µ) –≤—ã–≤–æ–¥—ã, –Ω–µ –≤—á–∏—Ç—ã–≤–∞—è—Å—å –≤ –∫–∞–∂–¥—É—é —Å—Ç—Ä–æ—á–∫—É.</li></ol><p>–ê –≤–æ—Ç —Ç–µ–±–µ –µ—â–µ –ø–∞—á–∫–∞ —Ç–µ—Ö–Ω–∏–∫, —á—Ç–æ–±—ã —Ç–≤–æ–π –∫–æ–¥ –Ω–µ –≤—ã–≥–ª—è–¥–µ–ª –∫–∞–∫ —à–∏—Ñ—Ä–æ–≤–∫–∞:</p><h3 id="–≥—Ä–∞–º–æ—Ç–Ω–æ–µ-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ-–ø—É—Å—Ç–æ–≥–æ-–º–µ—Å—Ç–∞-whitespace" tabindex="-1"><strong>–ì—Ä–∞–º–æ—Ç–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø—É—Å—Ç–æ–≥–æ –º–µ—Å—Ç–∞ (Whitespace)</strong> <a class="header-anchor" href="#–≥—Ä–∞–º–æ—Ç–Ω–æ–µ-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ-–ø—É—Å—Ç–æ–≥–æ-–º–µ—Å—Ç–∞-whitespace" aria-label="Permalink to &quot;**–ì—Ä–∞–º–æ—Ç–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø—É—Å—Ç–æ–≥–æ –º–µ—Å—Ç–∞ (Whitespace)**&quot;">‚Äã</a></h3><p>–§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞ –Ω–∞–ø—Ä—è–º—É—é –≤–ª–∏—è–µ—Ç –Ω–∞ —Ç–æ, –≤—ã—Ç–µ–∫—É—Ç —É —á–∏—Ç–∞—Ç–µ–ª—è –≥–ª–∞–∑–∞ –∏–ª–∏ –Ω–µ—Ç. –í–∑–≥–ª—è–Ω–∏ –Ω–∞ —ç—Ç—É –¥–æ–∫—É –∫ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º, –∏–∑ –∫–æ—Ç–æ—Ä–æ–π –≤—ã–¥–∞–≤–∏–ª–∏ –≤–µ—Å—å –≤–æ–∑–¥—É—Ö, –∫–∞–∫ –∏–∑ –≤–∞–∫—É—É–º–Ω–æ–π —É–ø–∞–∫–æ–≤–∫–∏:</p><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">/**</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> *  ...</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> *  </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">@param</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;"> numThreads</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> The number of threads that this manager should</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> *  spin up in order to manage ongoing connections. The MessageManager</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> *  spins up at least one thread for every open connection, so this</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> *  should be at least equal to the number of connections you expect</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> *  to be open at once. This should be a multiple of that number if</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> *  you expect to send a lot of messages in a short amount of time.</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> *  </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">@param</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;"> handler</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> Used as a callback in order to handle incoming</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> *  messages on this MessageManager&#39;s open connections. See</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> *  {@code MessageHandler} and {@code handleMessage} for details.</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> */</span></span></code></pre></div><p>–•—Ä–µ–Ω –ø–æ–π–º–µ—à—å, –≥–¥–µ –∑–∞–∫–∞–Ω—á–∏–≤–∞–µ—Ç—Å—è –æ–ø–∏—Å–∞–Ω–∏–µ –æ–¥–Ω–æ–≥–æ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ –∏ –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è –¥—Ä—É–≥–æ–µ. –î–∞–∂–µ –∏–º–µ–Ω–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ —Å–ª–∏–≤–∞—é—Ç—Å—è –≤ –∫–∞—à—É. –ù–æ —Å—Ç–æ–∏—Ç –¥–æ–±–∞–≤–∏—Ç—å –Ω–µ–º–Ω–æ–≥–æ –ø—Ä–æ–±–µ–ª–æ–≤, –∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –ø—Ä–æ–∑—Ä–∞—á–Ω–æ–π, –∫–∞–∫ —Å–ª–µ–∑–∞ –º–ª–∞–¥–µ–Ω—Ü–∞:</p><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">/**</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> *  </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">@param</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;"> numThreads</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> *           The number of threads that this manager should spin up in</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> *           order to manage ongoing connections. The MessageManager spins</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> *           up at least one thread for every open connection, so this</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> *           should be at least equal to the number of connections you</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> *           expect to be open at once. This should be a multiple of that</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> *           number if you expect to send a lot of messages in a short</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> *           amount of time.</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> *  </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">@param</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;"> handler</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> *           Used as a callback in order to handle incoming messages on</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> *           this MessageManager&#39;s open connections. See</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> *           {@code MessageHandler} and {@code handleMessage} for details.</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> */</span></span></code></pre></div><p>–ü—É—Å—Ç—ã–µ —Å—Ç—Ä–æ–∫–∏ —Ç–∞–∫–∂–µ –ø–æ–ª–µ–∑–Ω—ã, —á—Ç–æ–±—ã —Ä–∞–∑–±–∏–≤–∞—Ç—å –∫–æ–¥ –≤–Ω—É—Ç—Ä–∏ –º–µ—Ç–æ–¥–∞ –Ω–∞ –ª–æ–≥–∏—á–µ—Å–∫–∏–µ –±–ª–æ–∫–∏, –∫–∞–∫ –∑–¥–µ—Å—å:</p><div class="language-cpp vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">cpp</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">void*</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Buffer</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">::</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">allocAux</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">size_t</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;"> numBytes</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    //  –û–∫—Ä—É–≥–ª—è–µ–º –¥–ª–∏–Ω—É –¥–æ –∫—Ä–∞—Ç–Ω–æ–≥–æ 8 –±–∞–π—Ç–∞–º –¥–ª—è –≤—ã—Ä–∞–≤–Ω–∏–≤–∞–Ω–∏—è.</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    uint32_t</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> numBytes32 </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  (</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">downCast</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">uint32_t</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;(numBytes) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 7</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&amp;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> ~0x</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">7</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    assert</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(numBytes32 </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">!=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    //  –ï—Å–ª–∏ –µ—Å—Ç—å –º–µ—Å—Ç–æ –≤ firstAvailable, —é–∑–∞–µ–º –µ–≥–æ. –ò–¥–µ–º —Å–≤–µ—Ä—Ö—É –≤–Ω–∏–∑,</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    //  –ø–æ—Ç–æ–º—É —á—Ç–æ —ç—Ç–∞ –ø–∞–º—è—Ç—å –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ –≤—ã—Ä–æ–≤–Ω–µ–Ω–∞.</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  (availableLength </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> numBytes32) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        availableLength </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> numBytes32;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> firstAvailable </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> availableLength;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    //  –î–∞–ª–µ–µ, —Å–º–æ—Ç—Ä–∏–º, –µ—Å—Ç—å –ª–∏ –º–µ—Å—Ç–æ –≤ –∫–æ–Ω—Ü–µ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ —á–∞–Ω–∫–∞.</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  (extraAppendBytes </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> numBytes32) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        extraAppendBytes </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> numBytes32;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> lastChunk-&gt;data </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> lastChunk-&gt;length </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> extraAppendBytes;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    //  –ù—É –≤—Å—ë, –ø–∏–∑–¥–µ—Ü, –Ω–∞–¥–æ –≤—ã–¥–µ–ª—è—Ç—å –Ω–æ–≤—É—é –ø–∞–º—è—Ç—å.</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    uint32_t</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> allocatedLength;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    firstAvailable </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> getNewAllocation</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(numBytes32, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&amp;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">allocatedLength);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    availableLength </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> allocatedLength numBytes32;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> firstAvailable </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> availableLength;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p>–≠—Ç–æ—Ç –ø–æ–¥—Ö–æ–¥ —Ä–∞–±–æ—Ç–∞–µ—Ç –æ—Å–æ–±–µ–Ω–Ω–æ –∑–∞–µ–±–∏—Å—å, –µ—Å–ª–∏ –ø–µ—Ä–≤–∞—è —Å—Ç—Ä–æ–∫–∞ –ø–æ—Å–ª–µ –ø—É—Å—Ç–æ–≥–æ –º–µ—Å—Ç–∞ ‚Äî —ç—Ç–æ –∫–æ–º–º–µ–Ω—Ç, –æ–ø–∏—Å—ã–≤–∞—é—â–∏–π —Å–ª–µ–¥—É—é—â–∏–π –±–ª–æ–∫. –ü—É—Å—Ç—ã–µ —Å—Ç—Ä–æ–∫–∏ –¥–µ–ª–∞—é—Ç –∫–æ–º–º–µ–Ω—Ç—ã –∑–∞–º–µ—Ç–Ω–µ–µ.</p><p>–ü—Ä–æ–±–µ–ª—ã –≤–Ω—É—Ç—Ä–∏ —Å—Ç—Ä–æ–∫–∏ –∫–æ–¥–∞ —Ç–æ–∂–µ –ø–æ–º–æ–≥–∞—é—Ç –ø–æ–Ω—è—Ç—å, —á—Ç–æ –≤–æ–æ–±—â–µ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç. –°—Ä–∞–≤–Ω–∏ –¥–≤–∞ –≤–∞—Ä–∏–∞–Ω—Ç–∞ (–∫–æ–¥ –∫—É—Ä–∏–ª—å—â–∏–∫–∞ vs –∫–æ–¥ –∑–¥–æ—Ä–æ–≤–æ–≥–æ —á–µ–ª–æ–≤–µ–∫–∞):</p><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> pass</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;pass</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&amp;&amp;!</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">empty;pass</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">--</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) { </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// –£–∂–∞—Å —ç–ø–∏–ª–µ–ø—Ç–∏–∫–∞</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> pass </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">; pass </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &amp;&amp;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> !</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">empty; pass</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">--</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) { </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// –ù–æ—Ä–º–∞–ª—å–Ω–æ –∂–µ –æ–±—â–∞–ª–∏—Å—å</span></span></code></pre></div><p><strong>–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏.</strong> –ò–Ω–æ–≥–¥–∞ –Ω–∞–ø–∏—Å–∞—Ç—å –æ—á–µ–≤–∏–¥–Ω—ã–π –∫–æ–¥ —Ç—É–ø–æ –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ. –ë—ã–≤–∞–µ—Ç. –í —Ç–∞–∫–∏—Ö —Å–ª—É—á–∞—è—Ö —é–∑–∞–π –∫–æ–º–º–µ–Ω—Ç—ã, —á—Ç–æ–±—ã –∫–æ–º–ø–µ–Ω—Å–∏—Ä–æ–≤–∞—Ç—å —Å–≤–æ—é –±–µ—Å–ø–æ–º–æ—â–Ω–æ—Å—Ç—å –∏ –¥–∞—Ç—å –Ω–µ–¥–æ—Å—Ç–∞—é—â—É—é –∏–Ω—Ñ—É. –ß—Ç–æ–±—ã —Å–¥–µ–ª–∞—Ç—å —ç—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ, –ø–æ—Å—Ç–∞–≤—å —Å–µ–±—è –Ω–∞ –º–µ—Å—Ç–æ —á–∏—Ç–∞—Ç–µ–ª—è: –ø–æ–¥—É–º–∞–π, –≥–¥–µ –æ–Ω –∑–∞—Ç—É–ø–∏—Ç, –∏ –æ–±—ä—è—Å–Ω–∏ –∏–º–µ–Ω–Ω–æ —ç—Ç–æ.</p><h2 id="_18-2-—Å–¥–µ–ª–∞–∏-–∫–æ–¥-–Ω–µ–æ—á–µ–≤–∏–¥–Ω—ã–º-–∏-–ø–æ–ø–∞–¥–∏-–≤-–∞–¥" tabindex="-1"><strong>18.2 –°–¥–µ–ª–∞–π –∫–æ–¥ –Ω–µ–æ—á–µ–≤–∏–¥–Ω—ã–º (–ò –ø–æ–ø–∞–¥–∏ –≤ –ê–¥)</strong> <a class="header-anchor" href="#_18-2-—Å–¥–µ–ª–∞–∏-–∫–æ–¥-–Ω–µ–æ—á–µ–≤–∏–¥–Ω—ã–º-–∏-–ø–æ–ø–∞–¥–∏-–≤-–∞–¥" aria-label="Permalink to &quot;**18.2 –°–¥–µ–ª–∞–π –∫–æ–¥ –Ω–µ–æ—á–µ–≤–∏–¥–Ω—ã–º (–ò –ø–æ–ø–∞–¥–∏ –≤ –ê–¥)**&quot;">‚Äã</a></h2><p>–°–ø–æ—Å–æ–±–æ–≤ –∑–∞–ø—É—Ç–∞—Ç—å –∫–æ–¥ ‚Äî –º–∏–ª–ª–∏–æ–Ω. –í–æ—Ç –ª–∏—à—å –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ –ø—Ä–∏–º–µ—Ä—ã. –ù–µ–∫–æ—Ç–æ—Ä—ã–µ –∏–∑ –Ω–∏—Ö (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Å–æ–±—ã—Ç–∏–π–∫–∞) –∏–Ω–æ–≥–¥–∞ –Ω—É–∂–Ω—ã, –Ω–æ —Ç–æ–≥–¥–∞ –±—É–¥—å –¥–æ–±—Ä –æ–±–º–∞–∑–∞—Ç—å—Å—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–µ–π, —á—Ç–æ–±—ã –º–∏–Ω–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –±–æ–ª—å.</p><p><strong>Event-driven programming (–°–æ–±—ã—Ç–∏–π–∫–∞).</strong> –í —ç—Ç–æ–π –ø–∞—Ä–∞–¥–∏–≥–º–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Ä–µ–∞–≥–∏—Ä—É–µ—Ç –Ω–∞ –≤–Ω–µ—à–Ω—é—é —Ö–µ—Ä–Ω—é: –ø—Ä–∏–ª–µ—Ç–µ–ª –ø–∞–∫–µ—Ç, —é–∑–µ—Ä —Ç–∫–Ω—É–ª –º—ã—à–∫–æ–π –∏ —Ç.–¥. –û–¥–∏–Ω –º–æ–¥—É–ª—å –æ—Ä–µ—Ç, —á—Ç–æ —Å–æ–±—ã—Ç–∏–µ —Å–ª—É—á–∏–ª–æ—Å—å, –¥—Ä—É–≥–∏–µ –ø–æ–¥–ø–∏—Å—ã–≤–∞—é—Ç—Å—è –∏ –ø—Ä–æ—Å—è—Ç –¥–µ—Ä–Ω—É—Ç—å –∏—Ö –º–µ—Ç–æ–¥—ã.</p><p>–°–æ–±—ã—Ç–∏–π–Ω–æ–µ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–µ–≤—Ä–∞—â–∞–µ—Ç –ø–æ—Ç–æ–∫ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è (flow of control) –≤ –∞–¥—Å–∫–∏–π –∫–≤–µ—Å—Ç. –§—É–Ω–∫—Ü–∏–∏-–æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –≤—ã–∑—ã–≤–∞—é—Ç—Å—è –Ω–∞–ø—Ä—è–º—É—é; –∏—Ö –≤—ã–∑—ã–≤–∞–µ—Ç —Å–æ–±—ã—Ç–∏–π–Ω—ã–π –¥–≤–∏–∂–æ–∫, –æ–±—ã—á–Ω–æ —á–µ—Ä–µ–∑ —É–∫–∞–∑–∞—Ç–µ–ª–∏ –∏–ª–∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã. –î–∞–∂–µ –µ—Å–ª–∏ —Ç—ã –Ω–∞–π–¥–µ—à—å –º–µ—Å—Ç–æ –≤—ã–∑–æ–≤–∞ –≤ –¥–≤–∏–∂–∫–µ, —Ç—ã —Ö–µ—Ä —É–≥–∞–¥–∞–µ—à—å, –∫–∞–∫–∞—è –∏–º–µ–Ω–Ω–æ —Ñ—É–Ω–∫—Ü–∏—è —Å—Ä–∞–±–æ—Ç–∞–µ—Ç ‚Äî —ç—Ç–æ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç —Ç–æ–≥–æ, —á—Ç–æ —Ç–∞–º –Ω–∞—Ä–µ–≥–∞–ª–∏ –≤ —Ä–∞–Ω—Ç–∞–π–º–µ. –ò–∑-–∑–∞ —ç—Ç–æ–≥–æ —Ä–∞—Å—Å—É–∂–¥–∞—Ç—å –æ —Ç–∞–∫–æ–º –∫–æ–¥–µ –∏ –±—ã—Ç—å —É–≤–µ—Ä–µ–Ω–Ω—ã–º, —á—Ç–æ –æ–Ω –≤–æ–æ–±—â–µ —Ä–∞–±–æ—Ç–∞–µ—Ç ‚Äî –∑–∞–¥–∞—á–∞ –Ω–µ –¥–ª—è —Å–ª–∞–±–æ–Ω–µ—Ä–≤–Ω—ã—Ö.</p><p>–ß—Ç–æ–±—ã –∫–æ–º–ø–µ–Ω—Å–∏—Ä–æ–≤–∞—Ç—å —ç—Ç—É –º—É—Ç—å, –ø–∏—à–∏ –≤ –∫–æ–º–º–µ–Ω—Ç–∞—Ö –∫ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—É –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞, –∫–æ–≥–¥–∞ –∏ –∫—Ç–æ –µ–≥–æ, —Å—É–∫–∞, –≤—ã–∑—ã–≤–∞–µ—Ç:</p><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">/**</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> * –≠—Ç–æ—Ç –º–µ—Ç–æ–¥ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –≤ –ø–æ—Ç–æ–∫–µ –¥–∏—Å–ø–µ—Ç—á–µ—Ä–∞ —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–æ–º, –µ—Å–ª–∏</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> * –æ—à–∏–±–∫–∞ —É—Ä–æ–≤–Ω—è —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∞ –Ω–µ –¥–∞–µ—Ç RPC –∑–∞–≤–µ—Ä—à–∏—Ç—å—Å—è.</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> */</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">void</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Transport</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">RpcNotifier</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">failed</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    ...</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><blockquote><p><strong>üö© –ö–†–ê–°–ù–´–ô –§–õ–ê–ì: –ù–µ–æ—á–µ–≤–∏–¥–Ω—ã–π –∫–æ–¥</strong></p><p>–ï—Å–ª–∏ —Å–º—ã—Å–ª –∏ –ø–æ–≤–µ–¥–µ–Ω–∏–µ –∫–æ–¥–∞ –Ω–µ–ª—å–∑—è –ø–æ–Ω—è—Ç—å –±—ã—Å—Ç—Ä—ã–º –≤–∑–≥–ª—è–¥–æ–º ‚Äî —ç—Ç–æ –∫—Ä–∞—Å–Ω—ã–π —Ñ–ª–∞–≥. –û–±—ã—á–Ω–æ —ç—Ç–æ –∑–Ω–∞—á–∏—Ç, —á—Ç–æ –µ—Å—Ç—å –≤–∞–∂–Ω–∞—è –∏–Ω—Ñ–∞, –∫–æ—Ç–æ—Ä–∞—è —Å–∫—Ä—ã—Ç–∞ –æ—Ç –≥–ª–∞–∑ —á–∏—Ç–∞—Ç–µ–ª—è.</p></blockquote><p><strong>–î–∂–µ–Ω–µ—Ä–∏–∫–∏-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã (Generic containers).</strong> –ú–Ω–æ–≥–∏–µ —è–∑—ã–∫–∏ –¥–∞—é—Ç –Ω–∞–º —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–µ –∫–ª–∞—Å—Å—ã, —á—Ç–æ–±—ã —Å–≤–∞–ª–∏—Ç—å –¥–≤–∞ –∏ –±–æ–ª–µ–µ –∫—É—Å–∫–∞ –¥–∞–Ω–Ω—ã—Ö –≤ –æ–¥–Ω—É –∫—É—á—É, —Ç–∏–ø–∞ <code>Pair</code> –≤ Java –∏–ª–∏ <code>std::pair</code> –≤ C++. –°–æ–±–ª–∞–∑–Ω –≤–µ–ª–∏–∫: –º–æ–∂–Ω–æ –ø–µ—Ä–µ–¥–∞—Ç—å –ø–∞—á–∫—É –æ–±—ä–µ–∫—Ç–æ–≤ –æ–¥–Ω–æ–π –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π, –Ω–µ —Å–æ–∑–¥–∞–≤–∞—è –Ω–æ–≤—ã–π –∫–ª–∞—Å—Å. –ß–∞—Å—Ç–æ —Ç–∞–∫ –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ –∑–Ω–∞—á–µ–Ω–∏–π –∏–∑ –º–µ—Ç–æ–¥–∞:</p><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">return</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Pair&lt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">Integer</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">Boolean</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;(currentTerm, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">false</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span></code></pre></div><p>–ö —Å–æ–∂–∞–ª–µ–Ω–∏—é, —Ç–∞–∫–∏–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –¥–µ–ª–∞—é—Ç –∫–æ–¥ –Ω–µ–æ—á–µ–≤–∏–¥–Ω—ã–º, –ø–æ—Ç–æ–º—É —á—Ç–æ —É —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –≤–Ω—É—Ç—Ä–∏ –æ–±—â–∏–µ, –Ω–∏—á–µ–≥–æ –Ω–µ –∑–Ω–∞—á–∞—â–∏–µ –∏–º–µ–Ω–∞. –í –ø—Ä–∏–º–µ—Ä–µ –≤—ã—à–µ –≤—ã–∑—ã–≤–∞—é—â–∏–π –∫–æ–¥ –±—É–¥–µ—Ç –¥–µ—Ä–≥–∞—Ç—å <code>result.getKey()</code> –∏ <code>result.getValue()</code>. –ß—Ç–æ —Ç–∞–∫–æ–µ <code>Key</code>? –ß—Ç–æ —Ç–∞–∫–æ–µ <code>Value</code>? –•—É–π –ø—Ä–æ—Å—Å—ã—à—å.</p><p>–ö–æ—Ä–æ—á–µ, –Ω–µ —é–∑–∞–π –¥–∂–µ–Ω–µ—Ä–∏–∫-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã. –ï—Å–ª–∏ —Ç–µ–±–µ –Ω—É–∂–Ω–æ –≤–µ—Ä–Ω—É—Ç—å –¥–≤–∞ –∑–Ω–∞—á–µ–Ω–∏—è, –Ω–µ –ª–µ–Ω–∏—Å—å, —Å–æ–∑–¥–∞–π –ø–æ–¥ —ç—Ç–æ –¥–µ–ª–æ –º–∞–ª–µ–Ω—å–∫–∏–π –∫–ª–∞—Å—Å –∏–ª–∏ —Å—Ç—Ä—É–∫—Ç—É—Ä—É. –¢–∞–º —Ç—ã —Å–º–æ–∂–µ—à—å –¥–∞—Ç—å –ø–æ–ª—è–º –Ω–æ—Ä–º–∞–ª—å–Ω—ã–µ –∏–º–µ–Ω–∞, –∏, –æ —á—É–¥–æ, –∫–æ–¥ —Å—Ç–∞–Ω–µ—Ç —á–∏—Ç–∞–µ–º—ã–º.</p><p>–≠—Ç–æ—Ç –ø—Ä–∏–º–µ—Ä –∏–ª–ª—é—Å—Ç—Ä–∏—Ä—É–µ—Ç –∑–æ–ª–æ—Ç–æ–µ –ø—Ä–∞–≤–∏–ª–æ: <strong>—Å–æ—Ñ—Ç –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —Å–ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω —Ç–∞–∫, —á—Ç–æ–±—ã –µ–≥–æ –±—ã–ª–æ –ª–µ–≥–∫–æ —á–∏—Ç–∞—Ç—å, –∞ –Ω–µ –ª–µ–≥–∫–æ –ø–∏—Å–∞—Ç—å.</strong> –î–∂–µ–Ω–µ—Ä–∏–∫–∏ —É–¥–æ–±–Ω—ã –¥–ª—è –ø–∏—Å–∞—Ç–µ–ª—è (—Å—ç–∫–æ–Ω–æ–º–∏–ª 2 –º–∏–Ω—É—Ç—ã), –Ω–æ —Å–æ–∑–¥–∞—é—Ç –≥–µ–º–æ—Ä—Ä–æ–π –¥–ª—è –≤—Å–µ—Ö —á–∏—Ç–∞—Ç–µ–ª–µ–π –≤ –±—É–¥—É—â–µ–º. –õ—É—á—à–µ –ø–æ—Ç—Ä–∞—Ç—å –ø–∞—Ä—É –º–∏–Ω—É—Ç —Å–µ–π—á–∞—Å, —á—Ç–æ–±—ã –ø–æ—Ç–æ–º —Ç–µ–±—è –Ω–µ –ø–æ–º–∏–Ω–∞–ª–∏ –ª–∏—Ö–æ–º.</p><p><strong>–†–∞–∑–Ω—ã–µ —Ç–∏–ø—ã –ø—Ä–∏ –æ–±—ä—è–≤–ª–µ–Ω–∏–∏ –∏ –∞–ª–ª–æ–∫–∞—Ü–∏–∏.</strong> –ó–∞—Ü–µ–Ω–∏ Java-–∫–æ–¥:</p><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">private</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> List&lt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">Message</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; incomingMessageList;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">...</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">incomingMessageList </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ArrayList&lt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">Message</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;();</span></span></code></pre></div><p>–ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è –æ–±—ä—è–≤–ª–µ–Ω–∞ –∫–∞–∫ <code>List</code>, –Ω–æ –ø–æ —Ñ–∞–∫—Ç—É —Ç–∞–º <code>ArrayList</code>. –≠—Ç–æ –ª–µ–≥–∞–ª—å–Ω–æ (–ø–æ–ª–∏–º–æ—Ä—Ñ–∏–∑–º, –≤—Å–µ –¥–µ–ª–∞), –Ω–æ –º–æ–∂–µ—Ç —Å–±–∏—Ç—å —Å —Ç–æ–ª–∫—É —á–∏—Ç–∞—Ç–µ–ª—è, –∫–æ—Ç–æ—Ä—ã–π –≤–∏–¥–∏—Ç —Ç–æ–ª—å–∫–æ –æ–±—ä—è–≤–ª–µ–Ω–∏–µ. –†–µ–∞–ª—å–Ω—ã–π —Ç–∏–ø –º–æ–∂–µ—Ç –≤–ª–∏—è—Ç—å –Ω–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ (—É <code>ArrayList</code> —Å–≤–æ—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∏ –ø—Ä–∏–∫–æ–ª—ã —Å –ø–æ—Ç–æ–∫–æ–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å—é), —Ç–∞–∫ —á—Ç–æ –ª—É—á—à–µ –Ω–µ –ø—É—Ç–∞—Ç—å —Å–ª–µ–¥—ã –∏ –º–∞—Ç—á–∏—Ç—å –æ–±—ä—è–≤–ª–µ–Ω–∏–µ —Å –∞–ª–ª–æ–∫–∞—Ü–∏–µ–π.</p><p><strong>–ö–æ–¥, –∫–æ—Ç–æ—Ä—ã–π –Ω–∞—Ä—É—à–∞–µ—Ç –æ–∂–∏–¥–∞–Ω–∏—è.</strong> –ü—Ä–µ–¥—Å—Ç–∞–≤—å <code>main</code> —Ñ—É–Ω–∫—Ü–∏—é Java-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è:</p><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">public</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> static</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> void</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> main</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">String</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[] args) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    ...</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> RaftClient</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(myAddress, serverAddresses);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p>–ë–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ –ø—Ä–æ–≥—Ä–∞–º–º –∑–∞–∫—Ä—ã–≤–∞—é—Ç—Å—è, –∫–æ–≥–¥–∞ <code>main</code> –∑–∞–≤–µ—Ä—à–∞–µ—Ç—Å—è. –ß–∏—Ç–∞—Ç–µ–ª—å –æ–∂–∏–¥–∞–µ—Ç –∏–º–µ–Ω–Ω–æ —ç—Ç–æ–≥–æ. –ù–æ —Ç—É—Ç ‚Äî —Å—é—Ä–ø—Ä–∏–∑, –º–∞–∑–∞—Ñ–∞–∫–∞! –ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä <code>RaftClient</code> —Å–æ–∑–¥–∞–µ—Ç –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø–æ—Ç–æ–∫–∏, –∫–æ—Ç–æ—Ä—ã–µ –ø—Ä–æ–¥–æ–ª–∂–∞—é—Ç –º–æ–ª–æ—Ç–∏—Ç—å –¥–∞–∂–µ –ø–æ—Å–ª–µ –≤—ã—Ö–æ–¥–∞ –∏–∑ <code>main</code>. –¢–∞–∫–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ –Ω–∞–¥–æ –¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å –∂–∏—Ä–Ω—ã–º —à—Ä–∏—Ñ—Ç–æ–º –≤ <code>RaftClient</code>, –Ω–æ –æ–Ω–æ –Ω–∞—Å—Ç–æ–ª—å–∫–æ –Ω–µ–æ—á–µ–≤–∏–¥–Ω–æ, —á—Ç–æ —Å—Ç–æ–∏—Ç –¥–æ–±–∞–≤–∏—Ç—å –∫–æ–º–º–µ–Ω—Ç –∏ –≤ –∫–æ–Ω–µ—Ü <code>main</code>. –ù–∞–ø–∏—à–∏ –ø—Ä—è–º—ã–º —Ç–µ–∫—Å—Ç–æ–º: &quot;–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–µ —Å–¥–æ—Ö–Ω–µ—Ç, –æ–Ω–æ –±—É–¥–µ—Ç –∂–∏—Ç—å –≤ –¥—Ä—É–≥–∏—Ö –ø–æ—Ç–æ–∫–∞—Ö&quot;. –ö–æ–¥ –æ—á–µ–≤–∏–¥–µ–Ω —Ç–æ–≥–¥–∞, –∫–æ–≥–¥–∞ –æ–Ω —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –æ–∂–∏–¥–∞–Ω–∏—è–º; –µ—Å–ª–∏ –Ω–µ—Ç ‚Äî –ø–∏—à–∏ –æ–±—ä—è—Å–Ω–∏—Ç–µ–ª—å–Ω—É—é.</p><h2 id="_18-3-–∏—Ç–æ–≥" tabindex="-1"><strong>18.3 –ò—Ç–æ–≥</strong> <a class="header-anchor" href="#_18-3-–∏—Ç–æ–≥" aria-label="Permalink to &quot;**18.3 –ò—Ç–æ–≥**&quot;">‚Äã</a></h2><p>–î—É–º–∞–π –æ–± –æ—á–µ–≤–∏–¥–Ω–æ—Å—Ç–∏ –≤ —Ç–µ—Ä–º–∏–Ω–∞—Ö <strong>–∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏</strong>. –ï—Å–ª–∏ –∫–æ–¥ –Ω–µ–æ—á–µ–≤–∏–¥–µ–Ω, –∑–Ω–∞—á–∏—Ç, —á–∏—Ç–∞—Ç–µ–ª—é –Ω–µ —Ö–≤–∞—Ç–∞–µ—Ç –∫–∞–∫–æ–π-—Ç–æ –≤–∞–∂–Ω–æ–π –∏–Ω—Ñ—ã: –≤ –ø—Ä–∏–º–µ—Ä–µ —Å <code>RaftClient</code> –æ–Ω –Ω–µ –∑–Ω–∞–ª –ø—Ä–æ —Å–∫—Ä—ã—Ç—ã–µ –ø–æ—Ç–æ–∫–∏; –≤ –ø—Ä–∏–º–µ—Ä–µ —Å <code>Pair</code> –æ–Ω –Ω–µ –∑–Ω–∞–ª, —á—Ç–æ <code>getKey()</code> –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –Ω–æ–º–µ—Ä —Ç–µ–∫—É—â–µ–≥–æ —Ç–µ—Ä–º–∞.</p><p>–ß—Ç–æ–±—ã –∫–æ–¥ –±—ã–ª –æ—á–µ–≤–∏–¥–Ω—ã–º, —É–±–µ–¥–∏—Å—å, —á—Ç–æ —É —á–∏—Ç–∞—Ç–µ–ª—è –≤—Å–µ–≥–¥–∞ –µ—Å—Ç—å –≤—Å—ë –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ–µ –¥–ª—è –ø–æ–Ω–∏–º–∞–Ω–∏—è.</p><ol><li><strong>–õ—É—á—à–∏–π —Å–ø–æ—Å–æ–±:</strong> –£–º–µ–Ω—å—à–∏ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ–π –∏–Ω—Ñ—ã (–∞–±—Å—Ç—Ä–∞–∫—Ü–∏—è, —É–¥–∞–ª–µ–Ω–∏–µ —Å–ø–µ—Ü-–∫–µ–π—Å–æ–≤). –ß–µ–º –º–µ–Ω—å—à–µ –Ω–∞–¥–æ –∑–Ω–∞—Ç—å, —Ç–µ–º –ø—Ä–æ—â–µ –∂–∏—Ç—å.</li><li><strong>–í—Ç–æ—Ä–æ–π —Å–ø–æ—Å–æ–±:</strong> –ò—Å–ø–æ–ª—å–∑—É–π –∑–Ω–∞–Ω–∏—è, –∫–æ—Ç–æ—Ä—ã–µ —É —á–∏—Ç–∞—Ç–µ–ª—è —É–∂–µ –µ—Å—Ç—å (—Å–ª–µ–¥—É–π –∫–æ–Ω–≤–µ–Ω—Ü–∏—è–º, –Ω–µ –∏–∑–æ–±—Ä–µ—Ç–∞–π –≤–µ–ª–æ—Å–∏–ø–µ–¥), —á—Ç–æ–±—ã –µ–º—É –Ω–µ –ø—Ä–∏—à–ª–æ—Å—å —É—á–∏—Ç—å –Ω–æ–≤—É—é —Ö–µ—Ä–Ω—é —Ä–∞–¥–∏ —Ç–≤–æ–µ–≥–æ –∫–æ–¥–∞.</li><li><strong>–¢—Ä–µ—Ç–∏–π —Å–ø–æ—Å–æ–±:</strong> –ï—Å–ª–∏ —É–∂ –∏–Ω—Ñ–∞ –Ω—É–∂–Ω–∞, –ø—Ä–µ–ø–æ–¥–Ω–µ—Å–∏ –µ—ë –Ω–∞ –±–ª—é–¥–µ—á–∫–µ –ø—Ä—è–º–æ –≤ –∫–æ–¥–µ ‚Äî —á–µ—Ä–µ–∑ –Ω–æ—Ä–º–∞–ª—å–Ω—ã–µ –∏–º–µ–Ω–∞ –∏ —Å—Ç—Ä–∞—Ç–µ–≥–∏—á–µ—Å–∫–∏–µ –∫–æ–º–º–µ–Ω—Ç—ã.</li></ol></div></div></main><footer class="VPDocFooter" data-v-39a288b8 data-v-e257564d><!--[--><!--]--><div class="edit-info" data-v-e257564d><div class="edit-link" data-v-e257564d><a class="VPLink link vp-external-link-icon no-icon edit-link-button" href="https://github.com/Exoldy/a-philosophy-of-software-design/edit/main/docs/code-should-be-obvious.md" target="_blank" rel="noreferrer" data-v-e257564d><!--[--><span class="vpi-square-pen edit-link-icon" data-v-e257564d></span> Edit this page on GitHub<!--]--></a></div><div class="last-updated" data-v-e257564d><p class="VPLastUpdated" data-v-e257564d data-v-e98dd255>Last updated: <time datetime="2026-01-30T00:36:57.000Z" data-v-e98dd255></time></p></div></div><nav class="prev-next" aria-labelledby="doc-footer-aria-label" data-v-e257564d><span class="visually-hidden" id="doc-footer-aria-label" data-v-e257564d>Pager</span><div class="pager" data-v-e257564d><a class="VPLink link pager-link prev" href="/a-philosophy-of-software-design/consistency.html" data-v-e257564d><!--[--><span class="desc" data-v-e257564d>Previous page</span><span class="title" data-v-e257564d>17 Consistency</span><!--]--></a></div><div class="pager" data-v-e257564d><a class="VPLink link pager-link next" href="/a-philosophy-of-software-design/software-trends.html" data-v-e257564d><!--[--><span class="desc" data-v-e257564d>Next page</span><span class="title" data-v-e257564d>19 Software Trends</span><!--]--></a></div></nav></footer><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><!----><!--[--><!--]--></div></div>
    <script>window.__VP_HASH_MAP__=JSON.parse("{\"better-together-or-better-apart.md\":\"DNaJNdlj\",\"choosing-names.md\":\"DgfK3qCE\",\"code-should-be-obvious.md\":\"BhpGekVF\",\"comments-should-describe-things-that-are-not-obvious-from-the-code.md\":\"DDxCQu_2\",\"conclusion.md\":\"BVQFShrs\",\"consistency.md\":\"DyONwOZq\",\"decide-what-matters.md\":\"B6wN2nUp\",\"define-errors-out-of-existence.md\":\"qjLqEUOH\",\"design-it-twice.md\":\"DcQDvsT_\",\"designing-for-performance.md\":\"D_QZ2OjP\",\"different-layer-different-abstraction.md\":\"CRZY8XaA\",\"general-purpose-modules-are-deeper.md\":\"aAqTdHh6\",\"index.md\":\"B5V6D5lk\",\"information-hiding-and-leakage.md\":\"CiTXS6ET\",\"introduction.md\":\"DFClh1a9\",\"modifying-existing-code.md\":\"8mLnmvBl\",\"modules-should-be-deep.md\":\"B6TtPA-P\",\"preface.md\":\"CPzCorsX\",\"pull-complexity-downwards.md\":\"Ec_WwNdZ\",\"software-trends.md\":\"BOxVBBzj\",\"summary.md\":\"kUQYCcZZ\",\"the-nature-of-complexity.md\":\"DL13SPRn\",\"why-write-comments-the-four-excuses.md\":\"Dj9kfpqx\",\"working-code-is-not-enough.md\":\"B65y29y0\",\"write-the-comments-first.md\":\"Cf80YHPH\"}");window.__VP_SITE_DATA__=JSON.parse("{\"lang\":\"ru-RU\",\"dir\":\"ltr\",\"title\":\"–§–∏–ª–æ—Å–æ—Ñ–∏—è –¥–∏–∑–∞–π–Ω–∞ –ü–û\",\"description\":\"A VitePress site\",\"base\":\"/a-philosophy-of-software-design/\",\"head\":[],\"router\":{\"prefetchLinks\":true},\"appearance\":true,\"themeConfig\":{\"sidebar\":[{\"items\":[{\"text\":\"0 ÂâçË®Ä\",\"link\":\"/preface\"},{\"text\":\"1 ‰ªãÁªç\",\"link\":\"/introduction\"},{\"text\":\"2 Â§çÊùÇÂ∫¶ÁöÑÊú¨Ë¥®\",\"link\":\"/the-nature-of-complexity\"},{\"text\":\"3 ÂèØËøêË°åÁöÑ‰ª£Á†ÅÊòØ‰∏çÂ§üÁöÑ\",\"link\":\"/working-code-is-not-enough\"},{\"text\":\"4 Ê®°ÂùóÂ∫îÊ∑±Âéö\",\"link\":\"/modules-should-be-deep\"},{\"text\":\"5 ‰ø°ÊÅØÈöêËóèÔºàÂíåÊ≥ÑÊºèÔºâ\",\"link\":\"/information-hiding-and-leakage\"},{\"text\":\"6 General-Purpose Modules are Deeper\",\"link\":\"/general-purpose-modules-are-deeper\"},{\"text\":\"7 Different Layer, Different Abstraction\",\"link\":\"/different-layer-different-abstraction\"},{\"text\":\"8 Pull Complexity Downwards\",\"link\":\"/pull-complexity-downwards\"},{\"text\":\"9 Better Together Or Better Apart?\",\"link\":\"/better-together-or-better-apart\"},{\"text\":\"10 Define Errors Out Of Existence\",\"link\":\"/define-errors-out-of-existence\"},{\"text\":\"11 Design it Twice\",\"link\":\"/design-it-twice\"},{\"text\":\"12 Why Write Comments? The Four Excuses\",\"link\":\"/why-write-comments-the-four-excuses\"},{\"text\":\"13 Comments Should Describe Things that Aren‚Äôt Obvious from the Code\",\"link\":\"/comments-should-describe-things-that-are-not-obvious-from-the-code\"},{\"text\":\"14 Choosing Names\",\"link\":\"/choosing-names\"},{\"text\":\"15 Write The Comments First\",\"link\":\"/write-the-comments-first\"},{\"text\":\"16 Modifying Existing Code\",\"link\":\"/modifying-existing-code\"},{\"text\":\"17 Consistency\",\"link\":\"/consistency\"},{\"text\":\"18 Code Should be Obvious\",\"link\":\"/code-should-be-obvious\"},{\"text\":\"19 Software Trends\",\"link\":\"/software-trends\"},{\"text\":\"20 Designing for Performance\",\"link\":\"/designing-for-performance\"},{\"text\":\"21 Decide What Matters\",\"link\":\"/decide-what-matters\"},{\"text\":\"22 Conclusion\",\"link\":\"/conclusion\"},{\"text\":\"Summary\",\"link\":\"/summary\"}]}],\"socialLinks\":[{\"icon\":\"github\",\"link\":\"https://github.com/Exoldy/a-philosophy-of-software-design/\"}],\"editLink\":{\"pattern\":\"https://github.com/Exoldy/a-philosophy-of-software-design/edit/main/docs/:path\",\"text\":\"Edit this page on GitHub\"}},\"locales\":{},\"scrollOffset\":134,\"cleanUrls\":false}");</script>
    
  </body>
</html>