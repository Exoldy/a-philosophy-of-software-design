<!DOCTYPE html>
<html lang="ru-RU" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>2. Суть всей боли (Природа Сложности) | Философия дизайна ПО</title>
    <meta name="description" content="A VitePress site">
    <meta name="generator" content="VitePress v1.6.4">
    <link rel="preload stylesheet" href="/a-philosophy-of-software-design/assets/style.CSPm08Rv.css" as="style">
    <link rel="preload stylesheet" href="/a-philosophy-of-software-design/vp-icons.css" as="style">
    
    <script type="module" src="/a-philosophy-of-software-design/assets/app.DVEU4zNL.js"></script>
    <link rel="preload" href="/a-philosophy-of-software-design/assets/inter-roman-latin.Di8DUHzh.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="modulepreload" href="/a-philosophy-of-software-design/assets/chunks/theme.DDW5w42F.js">
    <link rel="modulepreload" href="/a-philosophy-of-software-design/assets/chunks/framework.CM3gOIkZ.js">
    <link rel="modulepreload" href="/a-philosophy-of-software-design/assets/the-nature-of-complexity.md.BqZew4UF.lean.js">
    <script id="check-dark-mode">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"auto",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
    <script id="check-mac-os">document.documentElement.classList.toggle("mac",/Mac|iPhone|iPod|iPad/i.test(navigator.platform));</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-5d98c3a5><!--[--><!--]--><!--[--><span tabindex="-1" data-v-0b0ada53></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-0b0ada53>Skip to content</a><!--]--><!----><header class="VPNav" data-v-5d98c3a5 data-v-ae24b3ad><div class="VPNavBar" data-v-ae24b3ad data-v-6aa21345><div class="wrapper" data-v-6aa21345><div class="container" data-v-6aa21345><div class="title" data-v-6aa21345><div class="VPNavBarTitle has-sidebar" data-v-6aa21345 data-v-1168a8e4><a class="title" href="/a-philosophy-of-software-design/" data-v-1168a8e4><!--[--><!--]--><!----><span data-v-1168a8e4>Философия дизайна ПО</span><!--[--><!--]--></a></div></div><div class="content" data-v-6aa21345><div class="content-body" data-v-6aa21345><!--[--><!--]--><div class="VPNavBarSearch search" data-v-6aa21345><!----></div><!----><!----><div class="VPNavBarAppearance appearance" data-v-6aa21345 data-v-6c893767><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-6c893767 data-v-5337faa4 data-v-1d5665e3><span class="check" data-v-1d5665e3><span class="icon" data-v-1d5665e3><!--[--><span class="vpi-sun sun" data-v-5337faa4></span><span class="vpi-moon moon" data-v-5337faa4></span><!--]--></span></span></button></div><div class="VPSocialLinks VPNavBarSocialLinks social-links" data-v-6aa21345 data-v-0394ad82 data-v-7bc22406><!--[--><a class="VPSocialLink no-icon" href="https://github.com/Exoldy/a-philosophy-of-software-design/" aria-label="github" target="_blank" rel="noopener" data-v-7bc22406 data-v-bd121fe5><span class="vpi-social-github"></span></a><!--]--></div><div class="VPFlyout VPNavBarExtra extra" data-v-6aa21345 data-v-bb2aa2f0 data-v-cf11d7a2><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-cf11d7a2><span class="vpi-more-horizontal icon" data-v-cf11d7a2></span></button><div class="menu" data-v-cf11d7a2><div class="VPMenu" data-v-cf11d7a2 data-v-b98bc113><!----><!--[--><!--[--><!----><div class="group" data-v-bb2aa2f0><div class="item appearance" data-v-bb2aa2f0><p class="label" data-v-bb2aa2f0>Appearance</p><div class="appearance-action" data-v-bb2aa2f0><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-bb2aa2f0 data-v-5337faa4 data-v-1d5665e3><span class="check" data-v-1d5665e3><span class="icon" data-v-1d5665e3><!--[--><span class="vpi-sun sun" data-v-5337faa4></span><span class="vpi-moon moon" data-v-5337faa4></span><!--]--></span></span></button></div></div></div><div class="group" data-v-bb2aa2f0><div class="item social-links" data-v-bb2aa2f0><div class="VPSocialLinks social-links-list" data-v-bb2aa2f0 data-v-7bc22406><!--[--><a class="VPSocialLink no-icon" href="https://github.com/Exoldy/a-philosophy-of-software-design/" aria-label="github" target="_blank" rel="noopener" data-v-7bc22406 data-v-bd121fe5><span class="vpi-social-github"></span></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-6aa21345 data-v-e5dd9c1c><span class="container" data-v-e5dd9c1c><span class="top" data-v-e5dd9c1c></span><span class="middle" data-v-e5dd9c1c></span><span class="bottom" data-v-e5dd9c1c></span></span></button></div></div></div></div><div class="divider" data-v-6aa21345><div class="divider-line" data-v-6aa21345></div></div></div><!----></header><div class="VPLocalNav has-sidebar empty" data-v-5d98c3a5 data-v-a6f0e41e><div class="container" data-v-a6f0e41e><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-a6f0e41e><span class="vpi-align-left menu-icon" data-v-a6f0e41e></span><span class="menu-text" data-v-a6f0e41e>Menu</span></button><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-a6f0e41e data-v-8a42e2b4><button data-v-8a42e2b4>Return to top</button><!----></div></div></div><aside class="VPSidebar" data-v-5d98c3a5 data-v-319d5ca6><div class="curtain" data-v-319d5ca6></div><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-319d5ca6><span class="visually-hidden" id="sidebar-aria-label" data-v-319d5ca6> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="no-transition group" data-v-c40bc020><section class="VPSidebarItem level-0 has-active" data-v-c40bc020 data-v-b3fd67f8><!----><div class="items" data-v-b3fd67f8><!--[--><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/a-philosophy-of-software-design/preface.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>Предисловие</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/a-philosophy-of-software-design/introduction.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>1. Введение</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/a-philosophy-of-software-design/the-nature-of-complexity.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>2. Суть всей боли (Природа Сложности)</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/a-philosophy-of-software-design/working-code-is-not-enough.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>3. "Работает — и ладно" — девиз неудачников</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/a-philosophy-of-software-design/modules-should-be-deep.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>4. Глубокие модули</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/a-philosophy-of-software-design/information-hiding-and-leakage.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>5. Прячем говно под ковер</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/a-philosophy-of-software-design/general-purpose-modules-are-deeper.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>6. Универсальность модулей</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/a-philosophy-of-software-design/different-layer-different-abstraction.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>7. Разные слои — разные абстракции</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/a-philosophy-of-software-design/pull-complexity-downwards.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>8. Скидывай сложность вниз</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/a-philosophy-of-software-design/better-together-or-better-apart.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>9. Вместе или порознь?</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/a-philosophy-of-software-design/define-errors-out-of-existence.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>10. Ошибок не существует</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/a-philosophy-of-software-design/design-it-twice.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>11. Проектируй дважды</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/a-philosophy-of-software-design/why-write-comments-the-four-excuses.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>12. Зачем писать комменты?</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/a-philosophy-of-software-design/comments-should-describe-things-that-are-not-obvious-from-the-code.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>13. Комментируй то, что не очевидно</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/a-philosophy-of-software-design/choosing-names.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>14. Нейминг</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/a-philosophy-of-software-design/write-the-comments-first.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>15. Сначала комменты, потом код</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/a-philosophy-of-software-design/modifying-existing-code.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>16. Трогаем старый код</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/a-philosophy-of-software-design/consistency.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>17. Консистентность</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/a-philosophy-of-software-design/code-should-be-obvious.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>18. Код должен быть понятен даже ежу</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/a-philosophy-of-software-design/software-trends.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>19. Модные молодежные тренды</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/a-philosophy-of-software-design/designing-for-performance.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>20. Производительность</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/a-philosophy-of-software-design/decide-what-matters.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>21. Определись, что важно</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/a-philosophy-of-software-design/conclusion.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>22. Заключение</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/a-philosophy-of-software-design/summary.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>Шпаргалка</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><!--]--><!--[--><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-5d98c3a5 data-v-1428d186><div class="VPDoc has-sidebar has-aside" data-v-1428d186 data-v-39a288b8><!--[--><!--]--><div class="container" data-v-39a288b8><div class="aside" data-v-39a288b8><div class="aside-curtain" data-v-39a288b8></div><div class="aside-container" data-v-39a288b8><div class="aside-content" data-v-39a288b8><div class="VPDocAside" data-v-39a288b8 data-v-3f215769><!--[--><!--]--><!--[--><!--]--><nav aria-labelledby="doc-outline-aria-label" class="VPDocAsideOutline" data-v-3f215769 data-v-a5bbad30><div class="content" data-v-a5bbad30><div class="outline-marker" data-v-a5bbad30></div><div aria-level="2" class="outline-title" id="doc-outline-aria-label" role="heading" data-v-a5bbad30>On this page</div><ul class="VPDocOutlineItem root" data-v-a5bbad30 data-v-b933a997><!--[--><!--]--></ul></div></nav><!--[--><!--]--><div class="spacer" data-v-3f215769></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-39a288b8><div class="content-container" data-v-39a288b8><!--[--><!--]--><main class="main" data-v-39a288b8><div style="position:relative;" class="vp-doc _a-philosophy-of-software-design_the-nature-of-complexity" data-v-39a288b8><div><h1 id="_2-суть-всеи-боли-природа-сложности" tabindex="-1"><strong>2. Суть всей боли (Природа Сложности)</strong> <a class="header-anchor" href="#_2-суть-всеи-боли-природа-сложности" aria-label="Permalink to &quot;**2. Суть всей боли (Природа Сложности)**&quot;">​</a></h1><p>Эта книга о том, как проектировать системы так, чтобы не хотелось выколоть себе глаза при попытке внести правки. Первый шаг — узнать врага в лицо. Что за херня эта «сложность»? Как понять, что система переусложнена без веской причины? Откуда вообще берется этот бардак? В этой главе мы обсосем эти вопросы с высоты птичьего полета, а дальше будем разбираться, как находить конкретные куски говна в коде.</p><p>Умение видеть сложность — это, блять, важнейший скилл дизайнера. Это позволяет заметить проблему до того, как ты вбухаешь в неё неделю работы. Понять, что дизайн — говно, проще, чем родить хороший дизайн с нуля. Но если ты научишься чувствовать запах плохого кода, твой внутренний компас сам выведет тебя к простоте. Если что-то выглядит сложно — попробуй сделать иначе. Со временем ты поймешь: одни приемы делают жизнь проще, а другие — это путевка в ад.</p><p>Здесь мы заложим фундамент. Дальше по книге я буду опираться на эти тезисы как на аксиомы, чтобы доказывать, почему одни решения норм, а другие — полный отстой.</p><h2 id="_2-1-че-это-такое-вообще-определение" tabindex="-1"><strong>2.1 Чё это такое вообще (Определение)</strong> <a class="header-anchor" href="#_2-1-че-это-такое-вообще-определение" aria-label="Permalink to &quot;**2.1 Чё это такое вообще (Определение)**&quot;">​</a></h2><p>Будем прагматиками. <strong>Сложность — это любая херня в структуре софта, которая мешает его понимать и править.</strong></p><p>У сложности много лиц.</p><ul><li>Трудно понять, как работает этот кусок кода? Сложно.</li><li>Чтобы поправить мелкий баг, нужно перелопатить полпроекта? Сложно.</li><li>Непонятно, где именно надо править, чтобы фича заработала? Сложно.</li><li>Фиксишь одно, а отваливается другое? Поздравляю, у вас сложность.</li></ul><p>Если систему сложно понять и изменить — она сложная. Если легко — она простая. Всё, блять, гениальное просто.</p><p>Можно смотреть на это через призму «цена/качество». В сложной системе даже мелкое улучшение стоит титанических усилий. В простой системе ты делаешь много полезного малой кровью.</p><p>Сложность — это то, что чувствует программист в моменте. Это не обязательно про размер проекта. Бывают огромные системы, с которыми приятно работать (редкость, но бывает). А бывает маленький скрипт на 100 строк, от которого хочется повеситься.</p><p>Сложность определяется тем, где вы чаще всего ковыряетесь. Если в системе есть кусок адского легаси, но его никто не трогает годами — это не страшно. Математически это выглядит так:</p><section><eqn><span class="katex-display"><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.4361em;vertical-align:-1.3861em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.05em;"><span style="top:-1.9em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">p</span></span></span></span><span style="top:-3.05em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">∑</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.3861em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal">c</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">p</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">p</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span></span></span></span></span></eqn></section><p>Общая сложность (<eq><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">C</span></span></span></span></eq>) — это сумма сложности каждой части (<eq><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7167em;vertical-align:-0.2861em;"></span><span class="mord"><span class="mord mathnormal">c</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">p</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span></span></span></span></eq>), умноженная на то, сколько времени (<eq><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9012em;vertical-align:-0.2861em;"></span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">p</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span></span></span></span></eq>) ты тратишь на еблю с этой частью. Если говнокод изолирован и забыт — считай, его нет.</p><p><strong>Важный момент:</strong> Сложность видна читателю, а не писателю. Если ты написал код и тебе всё понятно, а твой коллега смотрит на него как баран на новые ворота и говорит, что это сложно — <strong>значит, это сложно</strong>. Не надо спорить, надо спросить, что именно вызывает боль. Твоя задача — писать код не для себя любимого, а чтобы другие не проклинали тебя, когда будут это читать.</p><h2 id="_2-2-симптомы-как-понять-что-вы-в-глубокои-жопе" tabindex="-1"><strong>2.2 Симптомы (Как понять, что вы в глубокой жопе)</strong> <a class="header-anchor" href="#_2-2-симптомы-как-понять-что-вы-в-глубокои-жопе" aria-label="Permalink to &quot;**2.2 Симптомы (Как понять, что вы в глубокой жопе)**&quot;">​</a></h2><p>Сложность вылезает в трех основных формах. Каждая из них делает твою работу невыносимой.</p><p><strong>1. Эффект дробовика (Change Amplification)</strong> Это когда ты хочешь поменять одну мелочь, а приходится править код в ста местах. <em>Пример:</em> Древний веб-сайт. Фон страницы прописан хардкодом в каждом из 5000 HTML-файлов (рис. 2.1а). Захотел поменять цвет? Ебись вручную с каждым файлом. <em>Нормальный подход:</em> Цвет задан в одном месте (CSS или переменная), все страницы ссылаются туда (рис. 2.1b). Одна правка — глобальный эффект. Цель хорошего дизайна — чтобы изменения были локальными, а не размазывались тонким слоем по всему проекту.</p><p><strong>2. Когнитивная перегрузка (Cognitive Load)</strong> Это объем инфы, который тебе нужно загрузить в мозг, чтобы выполнить задачу. Чем больше грузишь, тем выше шанс, что ты что-то забудешь и накосячишь. <em>Пример:</em> Функция на C выделяет память и возвращает указатель, но не освобождает её. Теперь вызывающий код <em>обязан</em> знать, что память надо освободить, иначе будет утечка. Это лишняя нагрузка на мозг. Если бы функция сама убирала за собой, жить было бы проще. Перегрузку создают: раздутые интерфейсы, глобальные переменные, нелогичные зависимости.</p><p><em>Миф:</em> Многие думают, что меньше строк кода = проще. <strong>Хер там плавал.</strong> Иногда нужно написать больше кода, чтобы разгрузить мозг того, кто будет это использовать. Фреймворк, где всё делается магически в две строки, может быть адовым для понимания, потому что ты ни хера не знаешь, что там происходит под капотом.</p><p><img src="/a-philosophy-of-software-design/assets/00010.BHBDpSUQ.jpeg" alt=""><em>Рис 2.1: Эволюция геморроя. (a) Хардкод везде — смерть. (b) Общая переменная — норм. (c) Внезапная зависимость (тень) — скрытая подлянка.</em></p><p><strong>3. Неведомая ёбаная хуйня (Unknown Unknowns)</strong> Самый страшный симптом. Это когда ты даже не знаешь, что тебе нужно что-то знать, чтобы сделать правку. <em>Пример:</em> Ты меняешь цвет фона (как в пункте 1), всё вроде ок. Но оказывается, на некоторых страницах есть ещё «тень» фона, которая задана жестко и должна сочетаться с основным цветом (рис. 2.1c). Ты меняешь фон, тень остается старой, дизайн выглядит как говно. Но ты об этом не узнаешь, пока не откроешь ту самую страницу. При «эффекте дробовика» ты хотя бы знаешь, что надо много править. При «когнитивной нагрузке» ты знаешь, что надо много учить. А тут ты действуешь вслепую. Единственный способ застраховаться — прочитать весь код системы, что нереально.</p><p>Хороший дизайн делает всё <strong>очевидным</strong>. Ты смотришь на код и сразу врубаешься, что и где менять, и уверен, что ничего не сломаешь.</p><h2 id="_2-3-кто-виноват-и-что-делать-причины" tabindex="-1"><strong>2.3 Кто виноват и что делать (Причины)</strong> <a class="header-anchor" href="#_2-3-кто-виноват-и-что-делать-причины" aria-label="Permalink to &quot;**2.3 Кто виноват и что делать (Причины)**&quot;">​</a></h2><p>Итак, почему всё так плохо? Есть два всадника Апокалипсиса: <strong>Зависимости</strong> и <strong>Непонятки (Obscurity)</strong>.</p><p><strong>Зависимости</strong> Это когда один кусок кода не может жить без другого. Поменял тут — проверяй там. В примере с сайтом (2.1a) все страницы зависели от конкретного кода цвета. В новой версии (2.1b) мы убрали зависимость страниц друг от друга, но создали зависимость от переменной <code>bannerBg</code>. <em>Нюанс:</em> Совсем без зависимостей нельзя, это ж софт. Но мы должны делать их простыми и очевидными. Зависимость от одной переменной лучше, чем копипаста по всему проекту. Компилятор хотя бы скажет тебе, если ты удалишь переменную.</p><p><strong>Непонятки (Obscurity)</strong> Это когда важная инфа скрыта или неочевидна.</p><ul><li>Переменная называется <code>data</code>? Спасибо, блять, очень информативно.</li><li>В документации не указаны единицы измерения? Удачи угадать, секунды там или миллисекунды.</li><li>Зависимость есть, но её не видно. Например, сообщение об ошибке формируется из таблицы, о существовании которой ты даже не догадываешься.</li></ul><p>Часто это лечится документацией, но лучше лечить это дизайном. Если код требует талмуда документации, чтобы понять, как он работает — это хуёвый дизайн.</p><p>Зависимости приводят к тому, что правки расползаются и мозг кипит. Непонятки создают «неведомую хуйню». Убей эти две причины — и код станет проще.</p><h2 id="_2-4-почему-оно-растет-как-снежныи-ком-сложность-инкрементальна-сука" tabindex="-1"><strong>2.4 Почему оно растет как снежный ком (Сложность инкрементальна, сука)</strong> <a class="header-anchor" href="#_2-4-почему-оно-растет-как-снежныи-ком-сложность-инкрементальна-сука" aria-label="Permalink to &quot;**2.4 Почему оно растет как снежный ком (Сложность инкрементальна, сука)**&quot;">​</a></h2><p>Сложность не возникает внезапно из-за одной ошибки. Она накапливается. Это смерть от тысячи порезов. Тут накостылял, там переменную назвал <code>x</code>, здесь добавил неявную зависимость. Кажется, что каждая мелочь — фигня, «потом поправлю». Но со временем эти мелочи скапливаются в огромный ком грязи. И вот уже любое изменение вызывает боль. Сложность инкрементальна. Если каждый разработчик будет думать «ай, и так сойдёт» про свои мелкие правки, проект обречен. Нужна <strong>нулевая терпимость</strong> к говнокоду (об этом в главе 3).</p><h2 id="_2-5-итог-жизнь-—-боль" tabindex="-1"><strong>2.5 Итог: Жизнь — боль</strong> <a class="header-anchor" href="#_2-5-итог-жизнь-—-боль" aria-label="Permalink to &quot;**2.5 Итог: Жизнь — боль**&quot;">​</a></h2><p>Сложность — это накопление зависимостей и мутных мест. Она приводит к трем стадиям принятия неизбежного:</p><ol><li>Приходится править дохера файлов ради одной фичи.</li><li>Голова взрывается от количества контекста.</li><li>Ты даже не знаешь, где рванёт в следующий раз.</li></ol><p>Результат: писать код становится долго, дорого и страшно.</p></div></div></main><footer class="VPDocFooter" data-v-39a288b8 data-v-e257564d><!--[--><!--]--><div class="edit-info" data-v-e257564d><div class="edit-link" data-v-e257564d><a class="VPLink link vp-external-link-icon no-icon edit-link-button" href="https://github.com/Exoldy/a-philosophy-of-software-design/edit/main/docs/the-nature-of-complexity.md" target="_blank" rel="noreferrer" data-v-e257564d><!--[--><span class="vpi-square-pen edit-link-icon" data-v-e257564d></span> Edit this page on GitHub<!--]--></a></div><div class="last-updated" data-v-e257564d><p class="VPLastUpdated" data-v-e257564d data-v-e98dd255>Last updated: <time datetime="2026-01-30T08:13:48.000Z" data-v-e98dd255></time></p></div></div><nav class="prev-next" aria-labelledby="doc-footer-aria-label" data-v-e257564d><span class="visually-hidden" id="doc-footer-aria-label" data-v-e257564d>Pager</span><div class="pager" data-v-e257564d><a class="VPLink link pager-link prev" href="/a-philosophy-of-software-design/introduction.html" data-v-e257564d><!--[--><span class="desc" data-v-e257564d>Previous page</span><span class="title" data-v-e257564d>1. Введение</span><!--]--></a></div><div class="pager" data-v-e257564d><a class="VPLink link pager-link next" href="/a-philosophy-of-software-design/working-code-is-not-enough.html" data-v-e257564d><!--[--><span class="desc" data-v-e257564d>Next page</span><span class="title" data-v-e257564d>3. "Работает — и ладно" — девиз неудачников</span><!--]--></a></div></nav></footer><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><!----><!--[--><!--]--></div></div>
    <script>window.__VP_HASH_MAP__=JSON.parse("{\"better-together-or-better-apart.md\":\"DYbjDRBh\",\"choosing-names.md\":\"CsBL1mTU\",\"code-should-be-obvious.md\":\"De6eknsS\",\"comments-should-describe-things-that-are-not-obvious-from-the-code.md\":\"DjG8QTmH\",\"conclusion.md\":\"CHqwaTV3\",\"consistency.md\":\"9gJanjrc\",\"decide-what-matters.md\":\"DOGi44Zu\",\"define-errors-out-of-existence.md\":\"B-jsikCf\",\"design-it-twice.md\":\"BJ8g_YYs\",\"designing-for-performance.md\":\"CCwHz6MI\",\"different-layer-different-abstraction.md\":\"GtTuQ5uK\",\"general-purpose-modules-are-deeper.md\":\"DuaWooir\",\"index.md\":\"BZdtIbhH\",\"information-hiding-and-leakage.md\":\"hhpTWbPx\",\"introduction.md\":\"36gdDIvK\",\"modifying-existing-code.md\":\"C_IpLPy2\",\"modules-should-be-deep.md\":\"Bywxn7sq\",\"preface.md\":\"CY0NuYgN\",\"pull-complexity-downwards.md\":\"CRxFr1ht\",\"software-trends.md\":\"CYEonap6\",\"summary.md\":\"TH_qHPL4\",\"the-nature-of-complexity.md\":\"BqZew4UF\",\"why-write-comments-the-four-excuses.md\":\"IP1Sqd4a\",\"working-code-is-not-enough.md\":\"Dr2GhOCX\",\"write-the-comments-first.md\":\"DKpTOsya\"}");window.__VP_SITE_DATA__=JSON.parse("{\"lang\":\"ru-RU\",\"dir\":\"ltr\",\"title\":\"Философия дизайна ПО\",\"description\":\"A VitePress site\",\"base\":\"/a-philosophy-of-software-design/\",\"head\":[],\"router\":{\"prefetchLinks\":true},\"appearance\":true,\"themeConfig\":{\"sidebar\":[{\"items\":[{\"text\":\"Предисловие\",\"link\":\"/preface\"},{\"text\":\"1. Введение\",\"link\":\"/introduction\"},{\"text\":\"2. Суть всей боли (Природа Сложности)\",\"link\":\"/the-nature-of-complexity\"},{\"text\":\"3. \\\"Работает — и ладно\\\" — девиз неудачников\",\"link\":\"/working-code-is-not-enough\"},{\"text\":\"4. Глубокие модули\",\"link\":\"/modules-should-be-deep\"},{\"text\":\"5. Прячем говно под ковер\",\"link\":\"/information-hiding-and-leakage\"},{\"text\":\"6. Универсальность модулей\",\"link\":\"/general-purpose-modules-are-deeper\"},{\"text\":\"7. Разные слои — разные абстракции\",\"link\":\"/different-layer-different-abstraction\"},{\"text\":\"8. Скидывай сложность вниз\",\"link\":\"/pull-complexity-downwards\"},{\"text\":\"9. Вместе или порознь?\",\"link\":\"/better-together-or-better-apart\"},{\"text\":\"10. Ошибок не существует\",\"link\":\"/define-errors-out-of-existence\"},{\"text\":\"11. Проектируй дважды\",\"link\":\"/design-it-twice\"},{\"text\":\"12. Зачем писать комменты?\",\"link\":\"/why-write-comments-the-four-excuses\"},{\"text\":\"13. Комментируй то, что не очевидно\",\"link\":\"/comments-should-describe-things-that-are-not-obvious-from-the-code\"},{\"text\":\"14. Нейминг\",\"link\":\"/choosing-names\"},{\"text\":\"15. Сначала комменты, потом код\",\"link\":\"/write-the-comments-first\"},{\"text\":\"16. Трогаем старый код\",\"link\":\"/modifying-existing-code\"},{\"text\":\"17. Консистентность\",\"link\":\"/consistency\"},{\"text\":\"18. Код должен быть понятен даже ежу\",\"link\":\"/code-should-be-obvious\"},{\"text\":\"19. Модные молодежные тренды\",\"link\":\"/software-trends\"},{\"text\":\"20. Производительность\",\"link\":\"/designing-for-performance\"},{\"text\":\"21. Определись, что важно\",\"link\":\"/decide-what-matters\"},{\"text\":\"22. Заключение\",\"link\":\"/conclusion\"},{\"text\":\"Шпаргалка\",\"link\":\"/summary\"}]}],\"socialLinks\":[{\"icon\":\"github\",\"link\":\"https://github.com/Exoldy/a-philosophy-of-software-design/\"}],\"editLink\":{\"pattern\":\"https://github.com/Exoldy/a-philosophy-of-software-design/edit/main/docs/:path\",\"text\":\"Edit this page on GitHub\"}},\"locales\":{},\"scrollOffset\":134,\"cleanUrls\":false}");</script>
    
  </body>
</html>