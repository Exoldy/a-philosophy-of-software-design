# **–ì–ª–∞–≤–∞ 13. –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –¥–æ–ª–∂–Ω—ã –æ–±—ä—è—Å–Ω—è—Ç—å —Ç–æ, —á—Ç–æ, —Å—É–∫–∞, –Ω–µ–æ—á–µ–≤–∏–¥–Ω–æ –∏–∑ –∫–æ–¥–∞**

–°–º—ã—Å–ª –Ω–∞–ø–∏—Å–∞–Ω–∏—è –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤ –≤ —Ç–æ–º, —á—Ç–æ –∫–æ–¥, –∫–∞–∫–∏–º –±—ã –æ–Ω –Ω–∏ –±—ã–ª "—Å–∞–º–æ–¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä—É–µ–º—ã–º" (–ª—é–±–∏–º–∞—è –æ—Ç–º–∞–∑–∫–∞ –ª–µ–Ω–∏–≤—ã—Ö –∂–æ–ø), –Ω–µ –º–æ–∂–µ—Ç –ø–µ—Ä–µ–¥–∞—Ç—å –≤—Å—é —Ç—É –≤–∞–∂–Ω—É—é —Ö–µ—Ä–Ω—é, –∫–æ—Ç–æ—Ä–∞—è —Ç–≤–æ—Ä–∏–ª–∞—Å—å —É —Ç–µ–±—è –≤ –≥–æ–ª–æ–≤–µ –≤ –º–æ–º–µ–Ω—Ç –Ω–∞–ø–∏—Å–∞–Ω–∏—è. –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ —Ñ–∏–∫—Å–∏—Ä—É—é—Ç —ç—Ç—É –∏–Ω—Ñ—É, —á—Ç–æ–±—ã —Ä–∞–∑—Ä–∞–±—ã, –ø—Ä–∏—à–µ–¥—à–∏–µ –ø–æ—Å–ª–µ —Ç–µ–±—è (–∏–ª–∏ —Ç—ã —Å–∞–º —á–µ—Ä–µ–∑ –ø–æ–ª–≥–æ–¥–∞, –∫–æ–≥–¥–∞ –≤—Å—ë –∑–∞–±—É–¥–µ—à—å), –º–æ–≥–ª–∏ –ø–æ–Ω—è—Ç—å –∏ –ø–æ–ø—Ä–∞–≤–∏—Ç—å —ç—Ç–æ—Ç –∫–æ–¥ –±–µ–∑ –∂–µ–ª–∞–Ω–∏—è –≤—Å–∫—Ä—ã—Ç—å—Å—è.

**–ó–æ–ª–æ—Ç–æ–µ –ø—Ä–∞–≤–∏–ª–æ:** –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –¥–æ–ª–∂–Ω—ã –æ–ø–∏—Å—ã–≤–∞—Ç—å –≤–µ—â–∏, –∫–æ—Ç–æ—Ä—ã–µ **–Ω–µ –æ—á–µ–≤–∏–¥–Ω—ã** –ø—Ä–∏ —á—Ç–µ–Ω–∏–∏ —Å–∞–º–æ–≥–æ –∫–æ–¥–∞.

–ê –Ω–µ–æ—á–µ–≤–∏–¥–Ω–æ–≥–æ —Ç–∞–º –¥–æ—Ö–µ—Ä–∞. –ò–Ω–æ–≥–¥–∞ —ç—Ç–æ –Ω–∏–∑–∫–æ—É—Ä–æ–≤–Ω–µ–≤—ã–µ –¥–µ—Ç–∞–ª–∏. –ù–∞–ø—Ä–∏–º–µ—Ä, –∫–æ–≥–¥–∞ –ø–∞—Ä–∞ –∏–Ω–¥–µ–∫—Å–æ–≤ –æ–ø–∏—Å—ã–≤–∞–µ—Ç –¥–∏–∞–ø–∞–∑–æ–Ω: –≤—Ö–æ–¥—è—Ç –ª–∏ —Ç—É–¥–∞ –≥—Ä–∞–Ω–∏—á–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –∏–ª–∏ –Ω–µ—Ç? –•—É–π –ø—Ä–æ—Å—Å—ã—à—å. –ò–Ω–æ–≥–¥–∞ –Ω–µ–ø–æ–Ω—è—Ç–Ω–æ, –Ω–∞—Ö–µ—Ä–∞ —ç—Ç–æ—Ç –∫–æ–¥ –≤–æ–æ–±—â–µ –Ω—É–∂–µ–Ω –∏–ª–∏ –ø–æ—á–µ–º—É –æ–Ω –Ω–∞–ø–∏—Å–∞–Ω –∏–º–µ–Ω–Ω–æ —á–µ—Ä–µ–∑ –∂–æ–ø—É (—Å–ø–æ–π–ª–µ—Ä: –æ–±—ã—á–Ω–æ —ç—Ç–æ –∫–æ—Å—Ç—ã–ª—å). –ò–Ω–æ–≥–¥–∞ –µ—Å—Ç—å –Ω–µ–≥–ª–∞—Å–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞ —Ç–∏–ø–∞ "–≤—Å–µ–≥–¥–∞ –≤—ã–∑—ã–≤–∞–π –ê –ø–µ—Ä–µ–¥ –ë". –¢—ã –º–æ–∂–µ—à—å –ø–æ–ø—ã—Ç–∞—Ç—å—Å—è —É–≥–∞–¥–∞—Ç—å —ç—Ç–æ –ø—Ä–∞–≤–∏–ª–æ, –ø–µ—Ä–µ—á–∏—Ç–∞–≤ –≤–µ—Å—å –ø—Ä–æ–µ–∫—Ç, –Ω–æ —ç—Ç–æ –±–æ–ª—å–Ω–æ –∏ —á—Ä–µ–≤–∞—Ç–æ –±–∞–≥–∞–º–∏. –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –¥–µ–ª–∞–µ—Ç —ç—Ç–æ –ø—Ä–∞–≤–∏–ª–æ —è–≤–Ω—ã–º, —á—Ç–æ–±—ã –Ω–∏–∫—Ç–æ –Ω–µ –æ–±–ª–∞–∂–∞–ª—Å—è.

–û–¥–Ω–∞ –∏–∑ –≥–ª–∞–≤–Ω—ã—Ö –ø—Ä–∏—á–∏–Ω –ø–∏—Å–∞—Ç—å –∫–æ–º–º–µ–Ω—Ç—ã ‚Äî —ç—Ç–æ **–∞–±—Å—Ç—Ä–∞–∫—Ü–∏–∏**. –ê–±—Å—Ç—Ä–∞–∫—Ü–∏—è –¥–æ–ª–∂–Ω–∞ –¥–∞–≤–∞—Ç—å –ø—Ä–æ—Å—Ç–æ–π —Å–ø–æ—Å–æ–± –¥—É–º–∞—Ç—å –æ —Å–ª–æ–∂–Ω–æ–º –¥–µ—Ä—å–º–µ, –Ω–æ –∫–æ–¥ –Ω–∞—Å—Ç–æ–ª—å–∫–æ –¥–µ—Ç–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω, —á—Ç–æ –∑–∞ –¥–µ—Ä–µ–≤—å—è–º–∏ –ª–µ—Å–∞ –Ω–µ –≤–∏–¥–Ω–æ. –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –¥–∞—é—Ç —Ç–æ—Ç —Å–∞–º—ã–π "–≤–∏–¥ —Å–≤–µ—Ä—Ö—É" (¬´–ø–æ—Å–ª–µ –≤—ã–∑–æ–≤–∞ —ç—Ç–æ–≥–æ –º–µ—Ç–æ–¥–∞ —Å–µ—Ç–µ–≤–æ–π —Ç—Ä–∞—Ñ–∏–∫ –æ–±—Ä–µ–∂–µ—Ç—Å—è –¥–æ maxBandwidth¬ª). –î–∞–∂–µ –µ—Å–ª–∏ —ç—Ç–æ –º–æ–∂–Ω–æ –ø–æ–Ω—è—Ç—å, –ø—Ä–æ—á–∏—Ç–∞–≤ –∫–æ–¥, –Ω–µ –∑–∞—Å—Ç–∞–≤–ª—è–π –ª—é–¥–µ–π —Å—Ç—Ä–∞–¥–∞—Ç—å. –ß—Ç–µ–Ω–∏–µ –∫–æ–¥–∞ –∂—Ä–µ—Ç –≤—Ä–µ–º—è –∏ –º–æ–∑–≥. –†–∞–∑—Ä–∞–± –¥–æ–ª–∂–µ–Ω –ø–æ–Ω–∏–º–∞—Ç—å –∞–±—Å—Ç—Ä–∞–∫—Ü–∏—é –º–æ–¥—É–ª—è, –≥–ª—è–¥—è —Ç–æ–ª—å–∫–æ –Ω–∞ –ø—É–±–ª–∏—á–Ω—ã–µ –æ–±—ä—è–≤–ª–µ–Ω–∏—è –∏ –∫–æ–º–º–µ–Ω—Ç—ã, –Ω–µ –∫–æ–ø–∞—è—Å—å –≤ –∫–∏—à–∫–∞—Ö —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏.

–í —ç—Ç–æ–π –≥–ª–∞–≤–µ –º—ã —Ä–∞–∑–±–µ—Ä–µ–º, —á–µ –ø–∏—Å–∞—Ç—å –≤ –∫–æ–º–º–µ–Ω—Ç–∞—Ö –∏ –∫–∞–∫ –Ω–µ –ø–∏—Å–∞—Ç—å —Ö—É–π–Ω—é. –°–ø–æ–π–ª–µ—Ä: —Ö–æ—Ä–æ—à–∏–µ –∫–æ–º–º–µ–Ω—Ç—ã –æ–±—ä—è—Å–Ω—è—é—Ç –≤–µ—â–∏ –Ω–∞ –¥—Ä—É–≥–æ–º —É—Ä–æ–≤–Ω–µ –¥–µ—Ç–∞–ª–∏–∑–∞—Ü–∏–∏, —á–µ–º —Å–∞–º –∫–æ–¥.

## **13.1 –í—ã–±–µ—Ä–∏ —Å—Ç–∏–ª—å, –±–ª—è–¥—å (Conventions)**

–ü–µ—Ä–≤—ã–π —à–∞–≥ ‚Äî –¥–æ–≥–æ–≤–æ—Ä–∏—Ç—å—Å—è –æ –ø—Ä–∞–≤–∏–ª–∞—Ö. –ß—Ç–æ –∫–æ–º–º–µ–Ω—Ç–∏–º, –∫–∞–∫ —Ñ–æ—Ä–º–∞—Ç–∏—Ä—É–µ–º. –ï—Å–ª–∏ –ø–∏—à–µ—à—å –Ω–∞ —è–∑—ã–∫–µ, –≥–¥–µ –µ—Å—Ç—å —Ç—É–ª–∑—ã –¥–ª—è –¥–æ–∫–æ–≤ (Javadoc, Doxygen, godoc) ‚Äî —é–∑–∞–π –∏—Ö –∏ –Ω–µ –≤—ã–µ–±—ã–≤–∞–π—Å—è. –û–Ω–∏ –Ω–µ –∏–¥–µ–∞–ª—å–Ω—ã, –Ω–æ –ª—É—á—à–µ, —á–µ–º –Ω–∏—á–µ–≥–æ. –ï—Å–ª–∏ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–æ–≤ –Ω–µ—Ç ‚Äî —Å–ø–∏–∑–¥–∏ –∏—Ö —É –ø–æ—Ö–æ–∂–µ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞.

–°–æ–≥–ª–∞—à–µ–Ω–∏—è –Ω—É–∂–Ω—ã –¥–ª—è –¥–≤—É—Ö –≤–µ—â–µ–π. –í–æ-–ø–µ—Ä–≤—ã—Ö, **–µ–¥–∏–Ω–æ–æ–±—Ä–∞–∑–∏–µ** ‚Äî —á—Ç–æ–±—ã —Ç–≤–æ–∏ –∫–æ–º–º–µ–Ω—Ç—ã –Ω–µ –≤—ã–≥–ª—è–¥–µ–ª–∏ –∫–∞–∫ –∑–∞–ø–∏—Å–∫–∏ —Å—É–º–∞—Å—à–µ–¥—à–µ–≥–æ. –í–æ-–≤—Ç–æ—Ä—ã—Ö, –æ–Ω–∏ –∑–∞—Å—Ç–∞–≤–ª—è—é—Ç —Ç–µ–±—è **—Ä–µ–∞–ª—å–Ω–æ –ø–∏—Å–∞—Ç—å** —ç—Ç–∏ –∫–æ–º–º–µ–Ω—Ç—ã. –ï—Å–ª–∏ —Ç—ã –Ω–µ –∑–Ω–∞–µ—à—å, *–∫–∞–∫* –ø–∏—Å–∞—Ç—å, —Ç—ã –∑–∞–±—å–µ—à—å –±–æ–ª—Ç –∏ –Ω–µ –Ω–∞–ø–∏—à–µ—à—å –Ω–∏—á–µ–≥–æ.

–û—Å–Ω–æ–≤–Ω—ã–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –∫–æ–º–º–µ–Ω—Ç–æ–≤ (–∑–∞–ø–æ–º–∏–Ω–∞–π):

*   **–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å:** –±–ª–æ–∫ –ø–µ—Ä–µ–¥ –∫–ª–∞—Å—Å–æ–º, —Ñ—É–Ω–∫—Ü–∏–µ–π –∏–ª–∏ –º–µ—Ç–æ–¥–æ–º. –û–ø–∏—Å—ã–≤–∞–µ—Ç "–ª–∏—Ü–æ" –º–æ–¥—É–ª—è. –î–ª—è –∫–ª–∞—Å—Å–∞ ‚Äî –æ–±—â—É—é –∞–±—Å—Ç—Ä–∞–∫—Ü–∏—é. –î–ª—è –º–µ—Ç–æ–¥–∞ ‚Äî —á—Ç–æ –¥–µ–ª–∞–µ—Ç, –∞—Ä–≥—É–º–µ–Ω—Ç—ã, –≤–æ–∑–≤—Ä–∞—â–∞–µ–º–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ, —Å–∞–π–¥-—ç—Ñ—Ñ–µ–∫—Ç—ã (–µ—Å–ª–∏ –º–µ—Ç–æ–¥ –≥–∞–¥–∏—Ç –≥–¥–µ-—Ç–æ –µ—â–µ) –∏ –∏—Å–∫–ª—é—á–µ–Ω–∏—è.
*   **–ß–ª–µ–Ω—ã –¥–∞–Ω–Ω—ã—Ö:** –∫–æ–º–º–µ–Ω—Ç —Ä—è–¥–æ–º —Å –æ–±—ä—è–≤–ª–µ–Ω–∏–µ–º –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π.
*   **–†–µ–∞–ª–∏–∑–∞—Ü–∏—è:** –∫–æ–º–º–µ–Ω—Ç—ã –≤–Ω—É—Ç—Ä–∏ –∫–∏—à–æ–∫ –º–µ—Ç–æ–¥–∞, –æ–±—ä—è—Å–Ω—è—é—â–∏–µ, –∫–∞–∫ —ç—Ç–∞ –º–∞–≥–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç.
*   **–ö—Ä–æ—Å—Å-–º–æ–¥—É–ª—å–Ω—ã–µ:** —Å–∞–º—ã–µ —Ä–µ–¥–∫–∏–µ –∏ –≥–µ–º–æ—Ä—Ä–æ–π–Ω—ã–µ. –û–ø–∏—Å—ã–≤–∞—é—Ç –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏, —Ä–∞–∑–º–∞–∑–∞–Ω–Ω—ã–µ –ø–æ —Ä–∞–∑–Ω—ã–º —Ñ–∞–π–ª–∞–º.

–°–∞–º—ã–µ –≤–∞–∂–Ω—ã–µ ‚Äî –ø–µ—Ä–≤—ã–µ –¥–≤–∞. –£ –∫–∞–∂–¥–æ–≥–æ –∫–ª–∞—Å—Å–∞ –∏ –º–µ—Ç–æ–¥–∞ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–Ω—ã–π –∫–æ–º–º–µ–Ω—Ç. –ò–Ω–æ–≥–¥–∞ –≥–µ—Ç—Ç–µ—Ä—ã –∏ —Å–µ—Ç—Ç–µ—Ä—ã –Ω–∞—Å—Ç–æ–ª—å–∫–æ —Ç—É–ø—ã–µ, —á—Ç–æ –∫–æ–º–º–µ–Ω—Ç–∏—Ç—å —Ç–∞–º –Ω–µ—á–µ–≥–æ, –Ω–æ —ç—Ç–æ —Ä–µ–¥–∫–æ—Å—Ç—å. –ü—Ä–æ—â–µ –∑–∞–∫–æ–º–º–µ–Ω—Ç–∏—Ç—å –≤—Å—ë, —á–µ–º –≥–∞–¥–∞—Ç—å "–Ω–∞–¥–æ/–Ω–µ –Ω–∞–¥–æ". –ö–æ–º–º–µ–Ω—Ç—ã —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ —á–∞—Å—Ç–æ –Ω–∞—Ö–µ—Ä –Ω–µ –Ω—É–∂–Ω—ã (—Å–º. 13.6), –µ—Å–ª–∏ —Ç—ã –ø–∏—à–µ—à—å –Ω–æ—Ä–º–∞–ª—å–Ω—ã–π –∫–æ–¥.

## **13.2 –ù–µ –±—É–¥—å –≥—Ä—ë–±–∞–Ω—ã–º –ø–æ–ø—É–≥–∞–µ–º (Don‚Äôt repeat the code)**

–ö —Å–æ–∂–∞–ª–µ–Ω–∏—é, –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ –∫–æ–º–º–µ–Ω—Ç–æ–≤ ‚Äî –±–µ—Å–ø–æ–ª–µ–∑–Ω—ã–π –º—É—Å–æ—Ä. –ì–ª–∞–≤–Ω–∞—è –ø—Ä–∏—á–∏–Ω–∞: –æ–Ω–∏ —Ç—É–ø–æ –ø–æ–≤—Ç–æ—Ä—è—é—Ç –∫–æ–¥. –í–æ—Ç –ø—Ä–∏–º–µ—Ä –∏–∑ —Ä–µ–∞–ª—å–Ω–æ–π –∂–∏–∑–Ω–∏ (–¥–∞, –∫—Ç–æ-—Ç–æ —ç—Ç–æ –Ω–∞–ø–∏—Å–∞–ª):

```python
ptr_copy = get_copy(obj)            # –ü–æ–ª—É—á–∏—Ç—å –∫–æ–ø–∏—é —É–∫–∞–∑–∞—Ç–µ–ª—è
if is_unlocked(ptr_copy):           # –û–±—ä–µ–∫—Ç —Å–≤–æ–±–æ–¥–µ–Ω?
    return obj                      # –í–µ—Ä–Ω—É—Ç—å —Ç–µ–∫—É—â–∏–π –æ–±—ä–µ–∫—Ç
if is_copy(ptr_copy):               # –£–∂–æ –∫–æ–ø–∏—è?
    return obj                      # –í–µ—Ä–Ω—É—Ç—å –æ–±—ä–µ–∫—Ç
thread_id = get_thread_id(ptr_copy)
if thread_id == ctx.thread_id:      # –ó–∞–ª–æ—á–µ–Ω–æ —Ç–µ–∫—É—â–∏–º –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º
    return ptr_copy                 # –í–µ—Ä–Ω—É—Ç—å –∫–æ–ø–∏—é
```

**–ü–æ–ª—å–∑—ã ‚Äî –Ω–æ–ª—å.** –ö—Ä–æ–º–µ, –º–æ–∂–µ—Ç –±—ã—Ç—å, –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –∫–æ–º–º–µ–Ω—Ç–∞ –ø—Ä–æ –±–ª–æ–∫–∏—Ä–æ–≤–∫—É. –û—Å—Ç–∞–ª—å–Ω–æ–µ ‚Äî —ç—Ç–æ –ø–µ—Ä–µ—Å–∫–∞–∑ –∫–æ–¥–∞ –¥–ª—è —É–º—Å—Ç–≤–µ–Ω–Ω–æ –æ—Ç—Å—Ç–∞–ª—ã—Ö. "–í–µ—Ä–Ω—É—Ç—å –æ–±—ä–µ–∫—Ç" –Ω–∞–ø—Ä–æ—Ç–∏–≤ `return obj`? –°–µ—Ä—å–µ–∑–Ω–æ? –°–ø–∞—Å–∏–±–æ, –∫—ç–ø!

–í–æ—Ç –µ—â–µ –ø—Ä–∏–º–µ—Ä Java-–∫–æ–¥–∞ –¥–ª—è –ª—é–±–∏—Ç–µ–ª–µ–π –ø–∏—Å–∞—Ç—å –æ—á–µ–≤–∏–¥–Ω–æ–µ:

```java
// –î–æ–±–∞–≤–∏—Ç—å –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω—ã–π —Å–∫—Ä–æ–ª–ª–±–∞—Ä
hScrollBar = new JScrollBar(JScrollBar.HORIZONTAL);
add(hScrollBar, BorderLayout.SOUTH);

// –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∑–Ω–∞—á–µ–Ω–∏—è –∫–∞—Ä–µ—Ç–∫–∏
caretX = 0;
caretY = 0;
caretMemX = null;
```

–ü–µ—Ä–≤—ã–µ –¥–≤–∞ ‚Äî –º—É—Å–æ—Ä, –∫–æ–¥ –∏ —Ç–∞–∫ —á–∏—Ç–∞–µ—Ç—Å—è. –¢—Ä–µ—Ç–∏–π –º–æ–≥ –±—ã –±—ã—Ç—å –ø–æ–ª–µ–∑–µ–Ω, –µ—Å–ª–∏ –±—ã –æ–±—ä—è—Å–Ω—è–ª, *—á—Ç–æ —ç—Ç–æ –∑–∞ —Ö–µ—Ä–Ω—è* ‚Äî caretMemX, –∞ –Ω–µ –ø—Ä–æ—Å—Ç–æ –∫–æ–Ω—Å—Ç–∞—Ç–∏—Ä–æ–≤–∞–ª —Ñ–∞–∫—Ç –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏.

**–¢–µ—Å—Ç –Ω–∞ –≤—à–∏–≤–æ—Å—Ç—å:** –ï—Å–ª–∏ —Ç—ã –º–æ–∂–µ—à—å –Ω–∞–ø–∏—Å–∞—Ç—å —ç—Ç–æ—Ç –∫–æ–º–º–µ–Ω—Ç, –≥–ª—è–¥—è —Ç–æ–ª—å–∫–æ –Ω–∞ –∫–æ–¥ —Ä—è–¥–æ–º –∏ –Ω–µ –∑–Ω–∞—è –Ω–∏—á–µ–≥–æ –æ —Å–∏—Å—Ç–µ–º–µ ‚Äî —Ç–≤–æ–π –∫–æ–º–º–µ–Ω—Ç –≥–æ–≤–Ω–æ. –£–¥–∞–ª–∏ –µ–≥–æ. –ò–º–µ–Ω–Ω–æ –∏–∑-–∑–∞ —Ç–∞–∫–∏—Ö –∫–æ–º–º–µ–Ω—Ç–æ–≤ –ª—é–¥–∏ —Å—á–∏—Ç–∞—é—Ç, —á—Ç–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è ‚Äî –¥–ª—è –ª–æ—Ö–æ–≤.

–ï—â–µ –æ–¥–Ω–∞ –æ—à–∏–±–∫–∞ ‚Äî –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤ –∫–æ–º–º–µ–Ω—Ç–µ —Ç–µ –∂–µ —Å–ª–æ–≤–∞, —á—Ç–æ –∏ –≤ –Ω–∞–∑–≤–∞–Ω–∏–∏:

```java
/*
 * –ü–æ–ª—É—á–∏—Ç—å –Ω–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ –∏–º—è —Ä–µ—Å—É—Ä—Å–∞ –∏–∑ REQ.
 */
private static String[] getNormalizedResourceNames(HTTPRequest req) ...
```

–¢—ã –ø—Ä–æ—Å—Ç–æ –ø–µ—Ä–µ—Å—Ç–∞–≤–∏–ª —Å–ª–æ–≤–∞ –º–µ—Å—Ç–∞–º–∏! –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –Ω–µ –ø—Ä–∏–±–∞–≤–∏–ª–æ—Å—å. –ß—Ç–æ —Ç–∞–∫–æ–µ "–Ω–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ"? –ß—Ç–æ –≤ –º–∞—Å—Å–∏–≤–µ?

üö© **–ö—Ä–∞—Å–Ω—ã–π —Ñ–ª–∞–≥: –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –ø–æ–≤—Ç–æ—Ä—è–µ—Ç –∫–æ–¥**
–ï—Å–ª–∏ –∏–Ω—Ñ–∞ –≤ –∫–æ–º–º–µ–Ω—Ç–µ –æ—á–µ–≤–∏–¥–Ω–∞ –∏–∑ –∫–æ–¥–∞ —Ä—è–¥–æ–º ‚Äî —ç—Ç–æ –º—É—Å–æ—Ä. –ï—Å–ª–∏ —Ç—ã –∏—Å–ø–æ–ª—å–∑—É–µ—à—å —Ç–µ –∂–µ —Å–ª–æ–≤–∞, —á—Ç–æ –≤ –∏–º–µ–Ω–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π ‚Äî —Ç—ã –∑—Ä—è —Ç—Ä–∞—Ç–∏—à—å –±–∞–π—Ç—ã –Ω–∞ –∂–µ—Å—Ç–∫–æ–º –¥–∏—Å–∫–µ.

–í–º–µ—Å—Ç–æ —ç—Ç–æ–≥–æ –æ–±—ä—è—Å–Ω–∏ —Å—É—Ç—å. –ù–∞–ø—Ä–∏–º–µ—Ä, –¥–ª—è `textHorizontalPadding`:
*–ü–ª–æ—Ö–æ:* "–ì–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω—ã–π –æ—Ç—Å—Ç—É–ø —Ç–µ–∫—Å—Ç–∞."
*–•–æ—Ä–æ—à–æ:* "–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–∏–∫—Å–µ–ª–µ–π –ø—É—Å—Ç–æ–≥–æ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–∞ —Å–ª–µ–≤–∞ –∏ —Å–ø—Ä–∞–≤–∞ –æ—Ç –∫–∞–∂–¥–æ–π —Å—Ç—Ä–æ–∫–∏ —Ç–µ–∫—Å—Ç–∞." (–¢—É—Ç –ø–æ—è–≤–∏–ª–∏—Å—å: —é–Ω–∏—Ç—ã ‚Äî –ø–∏–∫—Å–µ–ª–∏, –∏ —É—Ç–æ—á–Ω–µ–Ω–∏–µ ‚Äî —Å *–æ–±–µ–∏—Ö* —Å—Ç–æ—Ä–æ–Ω).

## **13.3 –ù–∏–∑–∫–æ—É—Ä–æ–≤–Ω–µ–≤—ã–µ –∫–æ–º–º–µ–Ω—Ç—ã: –î–æ–±–∞–≤—å —Ç–æ—á–Ω–æ—Å—Ç–∏, —Å—É–∫–∞**

–¢–µ–ø–µ—Ä—å –æ —Ç–æ–º, —á—Ç–æ –ø–∏—Å–∞—Ç—å *–Ω–∞–¥–æ*. –ö–æ–º–º–µ–Ω—Ç—ã –¥–æ–ª–∂–Ω—ã –¥–æ–±–∞–≤–ª—è—Ç—å —Ç–æ—á–Ω–æ—Å—Ç—å. –ò–º–µ–Ω–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö —á–∞—Å—Ç–æ —Å–ª–∏—à–∫–æ–º —Ä–∞—Å–ø–ª—ã–≤—á–∞—Ç—ã. –ö–æ–º–º–µ–Ω—Ç—ã –¥–æ–ª–∂–Ω—ã –æ—Ç–≤–µ—á–∞—Ç—å –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã:
*   –í —á–µ–º –∏–∑–º–µ—Ä—è–µ—Ç—Å—è —ç—Ç–∞ —Ö—Ä–µ–Ω—å? (–°–µ–∫—É–Ω–¥—ã? –ú–∏–ª–ª–∏—Å–µ–∫—É–Ω–¥—ã? –ü–æ–ø—É–≥–∞–∏?)
*   –ì—Ä–∞–Ω–∏—Ü—ã –≤–∫–ª—é—á–∏—Ç–µ–ª—å–Ω–æ –∏–ª–∏ –Ω–µ—Ç?
*   –ß—Ç–æ –∑–Ω–∞—á–∏—Ç `null`? (–ü—É—Å—Ç–æ—Ç–∞? –û—à–∏–±–∫–∞? –ò–ª–∏ "–Ω–µ —Ç—Ä–æ–≥–∞–π –º–µ–Ω—è"?)
*   –ö—Ç–æ –¥–æ–ª–∂–µ–Ω —á–∏—Å—Ç–∏—Ç—å –ø–∞–º—è—Ç—å, –µ—Å–ª–∏ —ç—Ç–æ —Ä–µ—Å—É—Ä—Å?
*   –ï—Å—Ç—å –ª–∏ –∏–Ω–≤–∞—Ä–∏–∞–Ω—Ç—ã (—Ç–∏–ø–∞ "—Å–ø–∏—Å–æ–∫ –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –ø—É—Å—Ç")?

–ü—Ä–∏–º–µ—Ä –≥–æ–≤–Ω–∞:
```java
// –¢–µ–∫—É—â–∏–π –æ—Ñ—Ñ—Å–µ—Ç –≤ resp Buffer
uint32_t offset;
```
–ß—Ç–æ —Ç–∞–∫–æ–µ "—Ç–µ–∫—É—â–∏–π"? –û—Ñ—Ñ—Å–µ—Ç —á–µ–≥–æ?

–ü—Ä–∏–º–µ—Ä –Ω–æ—Ä–º–∞–ª—å–Ω–æ–≥–æ –ø–∞—Ü–∞–Ω–∞:
```java
// –ü–æ–∑–∏—Ü–∏—è –≤ –±—É—Ñ–µ—Ä–µ –ø–µ—Ä–≤–æ–≥–æ –æ–±—ä–µ–∫—Ç–∞, –∫–æ—Ç–æ—Ä—ã–π –µ—â–µ –ù–ï –±—ã–ª 
// –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω –∫–ª–∏–µ–Ω—Ç—É.
uint32_t offset;
```
–ü–æ—á—É–≤—Å—Ç–≤—É–π —Ä–∞–∑–Ω–∏—Ü—É.

**–°–æ–≤–µ—Ç:** –ö–æ–≥–¥–∞ –æ–ø–∏—Å—ã–≤–∞–µ—à—å –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é, –¥—É–º–∞–π **—Å—É—â–µ—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã–º–∏** (—á—Ç–æ —ç—Ç–æ?), –∞ –Ω–µ –≥–ª–∞–≥–æ–ª–∞–º–∏ (—á—Ç–æ —Å –Ω–µ–π –¥–µ–ª–∞—é—Ç?). –ù–µ –ø–∏—à–∏ "–æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è, –∫–æ–≥–¥–∞ –ø—Ä–∏—Ö–æ–¥–∏—Ç –ø–∞–∫–µ—Ç". –ü–∏—à–∏ "–°–æ–¥–µ—Ä–∂–∏—Ç –≤—Ä–µ–º—è –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –ø–∞–∫–µ—Ç–∞". –ò–∑ —ç—Ç–æ–≥–æ –∏ —Ç–∞–∫ –ø–æ–Ω—è—Ç–Ω–æ, –∫–æ–≥–¥–∞ –æ–Ω–∞ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è.

## **13.4 –í—ã—Å–æ–∫–æ—É—Ä–æ–≤–Ω–µ–≤—ã–µ –∫–æ–º–º–µ–Ω—Ç—ã: –í–∫–ª—é—á–∏ –∏–Ω—Ç—É–∏—Ü–∏—é**

–í—Ç–æ—Ä–æ–π —Ç–∏–ø –ø–æ–ª–µ–∑–Ω—ã—Ö –∫–æ–º–º–µ–Ω—Ç–æ–≤ ‚Äî –≤—ã—Å–æ–∫–æ—É—Ä–æ–≤–Ω–µ–≤—ã–µ. –û–Ω–∏ –¥–ª—è —Ç–æ–≥–æ, —á—Ç–æ–±—ã –æ–±—ä—è—Å–Ω–∏—Ç—å **–∑–∞–º—ã—Å–µ–ª**. –ö–æ–¥ ‚Äî —ç—Ç–æ –Ω–∞–±–æ—Ä –¥–µ—Ç–∞–ª–µ–π. –ö–æ–º–º–µ–Ω—Ç –¥–æ–ª–∂–µ–Ω –æ–±—ä—è—Å–Ω–∏—Ç—å, –Ω–∞—Ö–µ—Ä–∞ —ç—Ç–æ—Ç –Ω–∞–±–æ—Ä –¥–µ—Ç–∞–ª–µ–π —Ç—É—Ç –ª–µ–∂–∏—Ç.

–ü—Ä–∏–º–µ—Ä –∫–æ–¥–∞ —Å –ø–ª–æ—Ö–∏–º –∫–æ–º–º–µ–Ω—Ç–æ–º:
```java
// –ï—Å–ª–∏ –µ—Å—Ç—å LOADING readRPC —Å —Ç–æ–π –∂–µ —Å–µ—Å—Å–∏–µ–π...
// (–¥–∞–ª–µ–µ –ø–µ—Ä–µ—Å–∫–∞–∑ —É—Å–ª–æ–≤–∏–π if-–∞ —Å–ª–æ–≤–∞–º–∏)
for (int i = 0; i < NUM_READ_RPC; i++) {
    if (session == readRpc[i].session ...)
```
–≠—Ç–æ—Ç –∫–æ–º–º–µ–Ω—Ç –ø—Ä–æ—Å—Ç–æ –ø–µ—Ä–µ–≤–æ–¥–∏—Ç C++ –Ω–∞ –∞–Ω–≥–ª–∏–π—Å–∫–∏–π. –ë–µ—Å–ø–æ–ª–µ–∑–Ω–æ.

–•–æ—Ä–æ—à–∏–π –∫–æ–º–º–µ–Ω—Ç:
```java
// –ü–æ–ø—ã—Ç–∞—Ç—å—Å—è –¥–æ–±–∞–≤–∏—Ç—å —Ö–µ—à –∫–ª—é—á–∞ –∫ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–º—É RPC,
// –∫–æ—Ç–æ—Ä—ã–π –µ—â–µ –Ω–µ –±—ã–ª –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω –Ω–∞ –Ω—É–∂–Ω—ã–π —Å–µ—Ä–≤–µ—Ä.
```
–í–æ—Ç —ç—Ç–æ ‚Äî **–∞–±—Å—Ç—Ä–∞–∫—Ü–∏—è**. –ú—ã –Ω–µ –≥–æ–≤–æ—Ä–∏–º –ø—Ä–æ —Ü–∏–∫–ª—ã –∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ, –º—ã –≥–æ–≤–æ—Ä–∏–º –ø—Ä–æ —Å—É—Ç—å –¥–µ–π—Å—Ç–≤–∏—è. –ß–∏—Ç–∞—Ç–µ–ª—å —Ç–µ–ø–µ—Ä—å –ø–æ–Ω–∏–º–∞–µ—Ç *—Ü–µ–ª—å* –∏ –º–æ–∂–µ—Ç –ø—Ä–æ–≤–µ—Ä–∏—Ç—å, —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –ª–∏ –∫–æ–¥ —ç—Ç–æ–π —Ü–µ–ª–∏.

–ò–Ω–∂–µ–Ω–µ—Ä—ã –ª—é–±—è—Ç –¥–µ—Ç–∞–ª–∏. –ù–æ —Ö–æ—Ä–æ—à–∏–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç–æ—Ä —É–º–µ–µ—Ç –∑–∞–±–∏—Ç—å –Ω–∞ –¥–µ—Ç–∞–ª–∏ –∏ –≤–∏–¥–µ—Ç—å —Å—É—Ç—å. "–î–æ–±–∞–≤–∏—Ç—å –∫ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–º—É RPC" ‚Äî —ç—Ç–æ –ø—Ä–æ—Å—Ç–∞—è –∏–¥–µ—è. `if (x && y && z)` ‚Äî —ç—Ç–æ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è. –ö–æ–º–º–µ–Ω—Ç –¥–æ–ª–∂–µ–Ω –¥–∞–≤–∞—Ç—å –∏–¥–µ—é.

## **13.5 –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤: –õ–∏—Ü–æ —Ç–≤–æ–µ–≥–æ –∫–æ–¥–∞**

–ö–æ–¥ –Ω–µ —É–º–µ–µ—Ç –æ–ø–∏—Å—ã–≤–∞—Ç—å –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–∏, –æ–Ω —Å–ª–∏—à–∫–æ–º —Ç—É–ø–æ–π –∏ –Ω–∏–∑–∫–æ—É—Ä–æ–≤–Ω–µ–≤—ã–π. –¢–æ–ª—å–∫–æ –∫–æ–º–º–µ–Ω—Ç—ã –º–æ–≥—É—Ç —ç—Ç–æ —Å–¥–µ–ª–∞—Ç—å.
–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å–Ω—ã–π –∫–æ–º–º–µ–Ω—Ç –≥–æ–≤–æ—Ä–∏—Ç **–ß–¢–û** –¥–µ–ª–∞–µ—Ç –∫–ª–∞—Å—Å/–º–µ—Ç–æ–¥. –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –≥–æ–≤–æ—Ä–∏—Ç **–ö–ê–ö**.
–ï—Å–ª–∏ –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–Ω–æ–º –∫–æ–º–º–µ–Ω—Ç–µ —Ç—ã –Ω–∞—á–∏–Ω–∞–µ—à—å —Ä–∞—Å—Å–∫–∞–∑—ã–≤–∞—Ç—å –ø—Ä–æ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∏ –∞–ª–≥–æ—Ä–∏—Ç–º—ã ‚Äî —É —Ç–µ–±—è "–ø—Ä–æ—Ç–µ–∫–∞—é—â–∞—è –∞–±—Å—Ç—Ä–∞–∫—Ü–∏—è", –∏ —Ç–≤–æ–π –¥–∏–∑–∞–π–Ω ‚Äî –≥–æ–≤–Ω–æ.

–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –º–µ—Ç–æ–¥–∞ –¥–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å:
1.  –ö—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –ø–æ–≤–µ–¥–µ–Ω–∏—è (–≤—ã—Å–æ–∫–∏–π —É—Ä–æ–≤–µ–Ω—å).
2.  –û–ø–∏—Å–∞–Ω–∏–µ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤ –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ–º–æ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è (—Ç–æ—á–Ω–æ—Å—Ç—å).
3.  **–°–∞–π–¥-—ç—Ñ—Ñ–µ–∫—Ç—ã** (–µ—Å–ª–∏ –º–µ—Ç–æ–¥ –≤—Ç–∏—Ö–∞—Ä—è –ø–∏—à–µ—Ç –≤ –±–∞–∑—É –∏–ª–∏ –º–µ–Ω—è–µ—Ç –≥–ª–æ–±–∞–ª—å–Ω—É—é –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é ‚Äî –Ω–∞–ø–∏—à–∏ –æ–± —ç—Ç–æ–º, –Ω–µ –±—É–¥—å –º—É–¥–∞–∫–æ–º).
4.  –ò—Å–∫–ª—é—á–µ–Ω–∏—è.
5.  –ü—Ä–µ–¥—É—Å–ª–æ–≤–∏—è (—á—Ç–æ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –≥–æ—Ç–æ–≤–æ –ø–µ—Ä–µ–¥ –≤—ã–∑–æ–≤–æ–º).

–ü—Ä–∏–º–µ—Ä `IndexLookup`. –ü–ª–æ—Ö–æ–π –∫–æ–º–º–µ–Ω—Ç —Ä–∞—Å—Å–∫–∞–∑—ã–≤–∞–µ—Ç –ø—Ä–æ RPC, –∫–æ–Ω—Ñ–∏–≥–∏ –∏ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –∫–ª–∞—Å—Å–∞ –Ω–∞—Å—Ä–∞—Ç—å –Ω–∞ RPC. –ï–º—É –Ω—É–∂–Ω–æ –∑–Ω–∞—Ç—å, –∫–∞–∫ –ø–æ–ª—É—á–∏—Ç—å –¥–∞–Ω–Ω—ã–µ.
–•–æ—Ä–æ—à–∏–π –∫–æ–º–º–µ–Ω—Ç: "–≠—Ç–æ—Ç –∫–ª–∞—Å—Å –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –¥–∏–∞–ø–∞–∑–æ–Ω–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤. –°–æ–∑–¥–∞–µ—à—å –∏–Ω—Å—Ç–∞–Ω—Å, –¥–µ—Ä–≥–∞–µ—à—å `getNext()`, –ø–æ–ª—É—á–∞–µ—à—å –æ–±—ä–µ–∫—Ç—ã". –í—Å—ë. –ß–∏—Å—Ç–æ, —Å—É—Ö–æ, –ø–æ –¥–µ–ª—É.

üö© **–ö—Ä–∞—Å–Ω—ã–π —Ñ–ª–∞–≥: –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –≤–æ–Ω—è–µ—Ç –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ**
–ï—Å–ª–∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API –æ–ø–∏—Å—ã–≤–∞–µ—Ç –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ –∞–ª–≥–æ—Ä–∏—Ç–º—ã, –∫–æ—Ç–æ—Ä—ã–µ —é–∑–µ—Ä—É –∑–Ω–∞—Ç—å –Ω–µ –Ω—É–∂–Ω–æ ‚Äî —ç—Ç–æ –ø—Ä–æ–≤–∞–ª.

## **13.6 –ö–æ–º–º–µ–Ω—Ç—ã —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏: –ß–¢–û –∏ –ü–û–ß–ï–ú–£, –∞ –Ω–µ –ö–ê–ö**

–í–Ω—É—Ç—Ä–∏ –º–µ—Ç–æ–¥–æ–≤ –∫–æ–º–º–µ–Ω—Ç—ã –Ω—É–∂–Ω—ã —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –∫–æ–¥ —Å–ª–æ–∂–Ω—ã–π.
–ì–ª–∞–≤–Ω–∞—è —Ü–µ–ª—å: –æ–±—ä—è—Å–Ω–∏—Ç—å **–ß–¢–û** –¥–µ–ª–∞–µ—Ç –±–ª–æ–∫ –∫–æ–¥–∞ (—Ñ–∞–∑–∞ –∞–ª–≥–æ—Ä–∏—Ç–º–∞), —á—Ç–æ–±—ã —á–∏—Ç–∞—Ç–µ–ª—å –Ω–µ –ø–∞—Ä—Å–∏–ª –∫–∞–∂–¥—É—é —Å—Ç—Ä–æ–∫—É.
–ù–∞–ø—Ä–∏–º–µ—Ä: `// –§–∞–∑–∞ 1: –°–∫–∞–Ω–∏—Ä—É–µ–º –∞–∫—Ç–∏–≤–Ω—ã–µ RPC –Ω–∞ –Ω–∞–ª–∏—á–∏–µ –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—ã—Ö.`

–í—Ç–æ—Ä–∞—è —Ü–µ–ª—å: –æ–±—ä—è—Å–Ω–∏—Ç—å **–ü–û–ß–ï–ú–£**. –ï—Å–ª–∏ —Ç—ã –ø—Ä–∏–º–µ–Ω–∏–ª —Å—Ç—Ä–∞–Ω–Ω—ã–π —Ö–∞–∫, –ø–æ—Ç–æ–º—É —á—Ç–æ –±–∞–≥ –≤ —è–¥—Ä–µ –õ–∏–Ω—É–∫—Å–∞ ‚Äî –Ω–∞–ø–∏—à–∏ –æ–± —ç—Ç–æ–º! –ò–Ω–∞—á–µ –∫—Ç–æ-—Ç–æ "—É–º–Ω—ã–π" –ø—Ä–∏–¥–µ—Ç, "–æ–ø—Ç–∏–º–∏–∑–∏—Ä—É–µ—Ç" —Ç–≤–æ–π —Ö–∞–∫, –∏ –≤—Å—ë —Ä—É—Ö–Ω–µ—Ç. –°—Å—ã–ª–∞–π—Å—è –Ω–∞ –±–∞–≥-—Ç—Ä–µ–∫–µ—Ä, –Ω–µ –ø–µ—Ä–µ–ø–∏—Å—ã–≤–∞–π –≤—Å—é –∏—Å—Ç–æ—Ä–∏—é –±–∞–≥–∞ –≤ –∫–æ–¥.

## **13.7 –ö—Ä–æ—Å—Å-–º–æ–¥—É–ª—å–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è: –ö–æ–≥–¥–∞ –≥–æ–≤–Ω–æ —Ä–∞–∑–º–∞–∑–∞–Ω–æ –≤–µ–∑–¥–µ**

–í –∏–¥–µ–∞–ª—å–Ω–æ–º –º–∏—Ä–µ –≤—Å—ë –ª–µ–∂–∏—Ç –≤ –æ–¥–Ω–æ–º –º–µ—Å—Ç–µ. –í —Ä–µ–∞–ª—å–Ω–æ—Å—Ç–∏ ‚Äî –¥–∏–∑–∞–π–Ω —Ä–∞–∑–º–∞–∑–∞–Ω –ø–æ —Å–∏—Å—Ç–µ–º–µ. –ò–∑–º–µ–Ω–∏–ª —Å—Ç–∞—Ç—É—Å –æ—à–∏–±–∫–∏ –≤ –æ–¥–Ω–æ–º —Ñ–∞–π–ª–µ ‚Äî –Ω–∞–¥–æ –ø–æ–ø—Ä–∞–≤–∏—Ç—å switch-case –≤ –¥—Ä—É–≥–æ–º, —Å–æ–æ–±—â–µ–Ω–∏–µ –≤ —Ç—Ä–µ—Ç—å–µ–º –∏ —ç–∫—Å–µ–ø—à–Ω –≤ —á–µ—Ç–≤–µ—Ä—Ç–æ–º.
–≠—Ç–æ –∞–¥ –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏.

–ö–∞–∫ –ª–µ—á–∏—Ç—å?
1.  –ù–∞–π—Ç–∏ "—Ü–µ–Ω—Ç—Ä–æ–≤–æ–µ" –º–µ—Å—Ç–æ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `enum Status`) –∏ –Ω–∞–ø–∏—Å–∞—Ç—å —Ç–∞–º –∂–∏—Ä–Ω—ã–π –∫–æ–º–º–µ–Ω—Ç: "–ï–°–õ–ò –î–û–ë–ê–í–õ–Ø–ï–®–¨ –°–Æ–î–ê, –ù–ï –ó–ê–ë–£–î–¨ –ü–û–ü–†–ê–í–ò–¢–¨ –í–û–ù –¢–ê–ú, –¢–ê–ú –ò –¢–ê–ú".
2.  –ï—Å–ª–∏ —è–≤–Ω–æ–≥–æ –º–µ—Å—Ç–∞ –Ω–µ—Ç ‚Äî —Å–æ–∑–¥–∞—Ç—å —Ñ–∞–π–ª `designNotes`, –æ–ø–∏—Å–∞—Ç—å –ø—Ä–æ–±–ª–µ–º—É —Ç–∞–º, –∞ –≤ –∫–æ–¥–µ —Å—Ç–∞–≤–∏—Ç—å —Å—Å—ã–ª–∫–∏: `// –°–º. "–ó–æ–º–±–∏-—Å–µ—Ä–≤–µ—Ä—ã" –≤ designNotes`.

## **13.8 –ò—Ç–æ–≥**

–¶–µ–ª—å –∫–æ–º–º–µ–Ω—Ç–æ–≤ ‚Äî —Å–¥–µ–ª–∞—Ç—å —Ç–∞–∫, —á—Ç–æ–±—ã —á–∏—Ç–∞—Ç–µ–ª—å –ø–æ–Ω—è–ª —Å—Ç—Ä—É–∫—Ç—É—Ä—É –∏ –ø–æ–≤–µ–¥–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã, –Ω–µ –ª–æ–º–∞—è –º–æ–∑–≥.
"–û—á–µ–≤–∏–¥–Ω–æ" ‚Äî —ç—Ç–æ –Ω–µ –∫–æ–≥–¥–∞ –æ—á–µ–≤–∏–¥–Ω–æ –¢–ï–ë–ï (–∞–≤—Ç–æ—Ä—É), –∞ –∫–æ–≥–¥–∞ –æ—á–µ–≤–∏–¥–Ω–æ —Ç–æ–º—É –±–µ–¥–æ–ª–∞–≥–µ, –∫–æ—Ç–æ—Ä—ã–π –≤–∏–¥–∏—Ç —ç—Ç–æ—Ç –∫–æ–¥ –≤–ø–µ—Ä–≤—ã–µ.
–ï—Å–ª–∏ –Ω–∞ –∫–æ–¥-—Ä–µ–≤—å—é —Ç–µ–±–µ –≥–æ–≤–æ—Ä—è—Ç "–Ω–∏–ø–∞–Ω—è—Ç–Ω–∞", –Ω–µ —Å–ø–æ—Ä—å –∏ –Ω–µ –¥–æ–∫–∞–∑—ã–≤–∞–π, —á—Ç–æ —Ç—ã –≥–µ–Ω–∏–π, –∞ –æ–Ω–∏ —Ç—É–ø—ã–µ. –ü—Ä–æ—Å—Ç–æ –ø–æ–π–¥–∏ –∏ –ø–µ—Ä–µ–ø–∏—à–∏ –∫–æ–º–º–µ–Ω—Ç (–∏–ª–∏ –∫–æ–¥).

## **13.9 –û—Ç–≤–µ—Ç—ã –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã (–¥–ª—è —Å–∞–º–æ–ø—Ä–æ–≤–µ—Ä–∫–∏)**

–ù—É–∂–Ω–æ –ª–∏ –∑–Ω–∞—Ç—å —é–∑–µ—Ä—É –∫–ª–∞—Å—Å–∞ `IndexLookup`:
1.  **–§–æ—Ä–º–∞—Ç —Å–æ–æ–±—â–µ–Ω–∏–π RPC?** –ù–ï–¢. –≠—Ç–æ –¥–µ—Ç–∞–ª–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏. –°–∫—Ä–æ–π —ç—Ç–æ –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ.
2.  **–ö–∞–∫ —Å—Ä–∞–≤–Ω–∏–≤–∞—é—Ç—Å—è –æ–±—ä–µ–∫—Ç—ã (—á–∏—Å–ª–∞ –∏–ª–∏ —Å—Ç—Ä–æ–∫–∏)?** –î–ê. –ò–Ω–∞—á–µ —é–∑–µ—Ä –æ—Ö—Ä–µ–Ω–µ–µ—Ç –æ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏.
3.  **–°—Ç—Ä—É–∫—Ç—É—Ä—É –¥–∞–Ω–Ω—ã—Ö –∏–Ω–¥–µ–∫—Å–æ–≤ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ?** –ù–ï–¢. –≠—Ç–æ –≤–æ–æ–±—â–µ –Ω–∞ –¥—Ä—É–≥–æ–º –∫–æ–Ω—Ü–µ –ø—Ä–æ–≤–æ–¥–∞.
4.  **–î–µ–ª–∞—é—Ç—Å—è –ª–∏ –∑–∞–ø—Ä–æ—Å—ã –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ?** –í–û–ó–ú–û–ñ–ù–û. –ï—Å–ª–∏ —ç—Ç–æ –∫–∏–ª–ª–µ—Ä-—Ñ–∏—á–∞ –¥–ª—è –ø–µ—Ä—Ñ–æ–º–∞–Ω—Å–∞ ‚Äî —Å–∫–∞–∂–∏.
5.  **–ö–∞–∫ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è –ø–∞–¥–µ–Ω–∏—è —Å–µ—Ä–≤–µ—Ä–æ–≤?** –ù–ï–¢ (–µ—Å–ª–∏ —Å–∏—Å—Ç–µ–º–∞ —Å–∞–º–∞ –≤—Å—ë —Ä–∞–∑—Ä—É–ª–∏–≤–∞–µ—Ç). –Æ–∑–µ—Ä—É –ø–æ—Ñ–∏–≥, –∫–∞–∫ —Ç—ã —Ç–∞–º –ø–æ—Ç–µ–µ—à—å, –≥–ª–∞–≤–Ω–æ–µ ‚Äî —Ä–µ–∑—É–ª—å—Ç–∞—Ç.