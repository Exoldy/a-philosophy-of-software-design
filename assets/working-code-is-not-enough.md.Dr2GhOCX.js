import{_ as t,o as a,c as e,ae as r}from"./chunks/framework.CM3gOIkZ.js";const n="/a-philosophy-of-software-design/assets/00011.CNtqviGr.jpeg",c=JSON.parse('{"title":"3. \\"Работает — и ладно\\" — девиз неудачников (Код в работе)","description":"","frontmatter":{},"headers":[],"relativePath":"working-code-is-not-enough.md","filePath":"working-code-is-not-enough.md","lastUpdated":1769760828000}'),s={name:"working-code-is-not-enough.md"};function p(i,o,g,h,l,d){return a(),e("div",null,[...o[0]||(o[0]=[r('<h1 id="_3-работает-—-и-ладно-—-девиз-неудачников-код-в-работе" tabindex="-1"><strong>3. &quot;Работает — и ладно&quot; — девиз неудачников (Код в работе)</strong> <a class="header-anchor" href="#_3-работает-—-и-ладно-—-девиз-неудачников-код-в-работе" aria-label="Permalink to &quot;**3. &quot;Работает — и ладно&quot; — девиз неудачников (Код в работе)**&quot;">​</a></h1><p>Один из главных скиллов нормального разработчика — это правильная ментальная модель. В большинстве команд поощряется тактическое мышление: «Давай быстрее, релиз горит, похер на красоту». Но если ты хочешь, чтобы твой проект не превратился в тыкву, тебе придется включить стратегию и потратить время на нормальный дизайн. В этой главе мы перетрем, почему стратегия в итоге выходит дешевле, а тактика — это путь в ад (хоть и быстрый).</p><h2 id="_3-1-тактическое-программирование-хуяк-хуяк-и-в-продакшн" tabindex="-1"><strong>3.1 Тактическое программирование: &quot;Хуяк-хуяк и в продакшн&quot;</strong> <a class="header-anchor" href="#_3-1-тактическое-программирование-хуяк-хуяк-и-в-продакшн" aria-label="Permalink to &quot;**3.1 Тактическое программирование: &quot;Хуяк-хуяк и в продакшн&quot;**&quot;">​</a></h2><p>Большинство программистов живут в режиме, который я называю <strong>тактическим программированием</strong>. Твоя единственная цель — закрыть тикет в Джире. Новая фича? Багфикс? Главное — чтобы заработало. Звучит логично, да? Что может быть важнее рабочего кода? Проблема в том, что с таким подходом ты никогда не построишь нормальную систему. Ты построишь карточный домик из костылей.</p><p>Тактика — это близорукость. У тебя есть дедлайн, и ты кладешь болт на планирование. Ты не ищешь лучшее решение, ты ищешь <em>быстрое</em>. Ты говоришь себе: «Ну, добавлю тут пару ифов, влеплю глобальную переменную, немного усложню, но зато успею к обеду».</p><p>Именно так системы превращаются в монстров. Как мы уже выяснили, сложность накапливается инкрементально. Никто не убивает проект одной строчкой кода (обычно). Это происходит через сотни мелких «временных решений». Если вся команда кодит тактически, сложность растет по экспоненте.</p><p>Очень скоро эти «быстрые фиксы» начинают стрелять тебе в ногу. Ты начинаешь жалеть, что срезал углы месяц назад. Но ты снова говоришь себе: «Сейчас нет времени на рефакторинг, надо пилить следующую фичу. Вот потом...». Спойлер: «потом» не наступит никогда. Ты лепишь патч на патч, костыль на костыль. Код превращается в помойку, которую страшно трогать. В итоге ты тратишь месяцы на то, чтобы просто заставить это говно работать.</p><p>Если ты работал над проектом дольше полугода, ты знаешь это чувство безысходности. Как только ты встал на скользкую дорожку тактики, свернуть с нее почти невозможно.</p><p>В каждой конторе есть такой персонаж — <strong>Тактический Торнадо</strong>. Это чувак, который пишет код быстрее всех, но абсолютно по-ублюдски. Когда нужно срочно выкатить фичу, он герой. Менеджмент его обожает. Но на самом деле Тактический Торнадо — это вредитель. Он оставляет за собой руины, которые потом разгребают другие (настоящие герои), из-за чего их работа кажется медленной. Торнадо не пишет код, он минирует проект.</p><h2 id="_3-2-стратегическое-программирование-для-тех-кто-планирует-жить-вечно" tabindex="-1"><strong>3.2 Стратегическое программирование: Для тех, кто планирует жить вечно</strong> <a class="header-anchor" href="#_3-2-стратегическое-программирование-для-тех-кто-планирует-жить-вечно" aria-label="Permalink to &quot;**3.2 Стратегическое программирование: Для тех, кто планирует жить вечно**&quot;">​</a></h2><p>Первый шаг к тому, чтобы стать хорошим дизайнером ПО — осознать: <strong>Рабочий код — это недостаточно</strong>. Это, блядь, необходимый минимум, как штаны на работе. Нельзя добавлять ненужную сложность только ради скорости.</p><p>Главное — это долгосрочная архитектура. Большую часть времени мы расширяем существующий код, поэтому твоя задача — сделать так, чтобы расширять его было легко, а не больно. Твоя цель — <strong>охуенный дизайн</strong>, а рабочий код — это просто побочный эффект. Это и есть стратегическое программирование.</p><p>Стратегия требует инвестиций. Ты тратишь время сейчас, чтобы сэкономить его потом. Сначала ты просядешь по скорости (см. рис. 3.1), но на дистанции ты всех выебешь.</p><p>Инвестиции бывают активные: не писать первое, что пришло в голову, а потратить полчаса на поиск элегантного решения. Подумать, как этот класс будут менять через год. Написать, сука, документацию.</p><p>И пассивные инвестиции: когда видишь кусок говна в коде — убери его. Не проходи мимо, не ставь заплатку. Исправляй дизайн постоянно, по чуть-чуть. В отличие от тактиков, которые постоянно накидывают говна на вентилятор, стратеги постоянно чистят вентилятор.</p><h2 id="_3-3-сколько-времени-на-это-убить-инвестируем-в-будущее-или-экономим-на-спичках" tabindex="-1"><strong>3.3 Сколько времени на это убить? (Инвестируем в будущее или экономим на спичках)</strong> <a class="header-anchor" href="#_3-3-сколько-времени-на-это-убить-инвестируем-в-будущее-или-экономим-на-спичках" aria-label="Permalink to &quot;**3.3 Сколько времени на это убить? (Инвестируем в будущее или экономим на спичках)**&quot;">​</a></h2><p>Без фанатизма. Не надо пытаться спроектировать «Звезду Смерти» целиком до написания первой строчки кода (это Waterfall, и он мертв). Лучший подход — постоянные небольшие вложения. Трать около <strong>10-20%</strong> времени на дизайн и рефакторинг.</p><p>Это не сильно сдвинет дедлайны сейчас, но окупится стократно. Сначала проект займет на 10-20% больше времени. Но через пару месяцев ты заметишь, что пилишь фичи на 20% быстрее, чем тактики, которые уже увязли в своем болоте. Ты вернешь свои инвестиции быстрее, чем кажется.</p><p><img src="'+n+'" alt="График 3.1"><em>Рис. 3.1: В начале тактики (синяя линия) бегут быстрее, потому что им похер на качество. Но очень быстро их скорость падает, потому что код превращается в лапшу. Стратеги (красная линия) сначала тупят, но потом улетают в космос, потому что их система не сопротивляется изменениям.</em></p><p>А вот если ты выберешь тактику... Сначала ты герой. Но скоро сложность начнет душить проект. Разработка замедлится не на 20%, а в разы. Если ты работал с убитым легаси, ты знаешь: любое изменение превращается в археологические раскопки в канализации.</p><h2 id="_3-4-стартапы-и-инвесторы-почему-им-похер-на-твои-красивыи-код" tabindex="-1"><strong>3.4 Стартапы и инвесторы (Почему им похер на твой красивый код)</strong> <a class="header-anchor" href="#_3-4-стартапы-и-инвесторы-почему-им-похер-на-твои-красивыи-код" aria-label="Permalink to &quot;**3.4 Стартапы и инвесторы (Почему им похер на твой красивый код)**&quot;">​</a></h2><p>В стартапах любят говорить: «У нас нет времени на дизайн, нам надо релизить MVP вчера, инвесторы дышат в спину!». Для них даже 10% времени — это роскошь. Они выбирают тактику, лепят горбатого и говорят: «Вот станем богатыми — наймем штат сеньоров, и они всё перепишут».</p><p>Если ты работаешь в такой компании, знай: как только код превратился в спагетти, <strong>его уже не починить</strong>. Вы будете платить «налог на говнокод» вечно. И самое смешное: плохой дизайн начнет тормозить вас еще до первого релиза. Тактика не поможет вам выиграть гонку, она просто прострелит вам колеса на старте.</p><p>И еще кое-что. Успех компании зависит от качества инженеров. Лучший способ сэкономить — нанять крутых спецов. Они стоят дороже, но их продуктивность выше в разы. Но есть нюанс: хорошие инженеры ненавидят работать в помойке. Если слух о вашем гнилом коде пойдет по рынку (а он пойдет), вы сможете нанять только тех, кого больше никуда не берут. И они сделают ваш код еще хуже.</p><p>Пример: Facebook. Долгие годы их девиз был <strong>«Move fast and break things»</strong> (Двигайся быстро и круши всё вокруг). Они поощряли тактическое программирование и Тактических Торнадо. Код писали вчерашние студенты, сразу в прод. Да, Facebook успешен. Но их кодовая база превратилась в ад. Нестабильный, непонятный код, ноль тестов, ноль комментов. В итоге им пришлось признать, что так жить нельзя, и сменить девиз на «Move fast with stable infra» (Двигайся быстро, но не будь долбоебом). Смогут ли они разгрести эти авгиевы конюшни — большой вопрос.</p><p>Для сравнения: Google и VMware. Они росли в то же время, но выбрали стратегический подход. Высокое качество кода, хороший дизайн. Итог? У них одни из лучших инженерных культур в мире, и все хотят там работать.</p><p>Короче, можно стать успешным и с говнокодом (если повезет), но работать в компании, где код не вызывает рвотных позывов, гораздо приятнее.</p><h2 id="_3-5-итог" tabindex="-1"><strong>3.5 Итог</strong> <a class="header-anchor" href="#_3-5-итог" aria-label="Permalink to &quot;**3.5 Итог**&quot;">​</a></h2><p>Хороший дизайн не дается бесплатно. Это постоянные усилия. Но он окупается.</p><p>Главное правило: <strong>будь стратегом всегда</strong>. Не откладывай «чистку» на завтра. Когда у тебя аврал, велик соблазн сказать «почищу после релиза». Это ловушка. За этим авралом будет следующий. Как только ты начнешь откладывать дизайн, ты уже проиграл. Проблемы будут копиться, рефакторинг станет пугающим, и ты забьешь на него окончательно.</p><p>Единственный выход — каждый день, по чуть-чуть, делать код лучше, чем он был вчера.</p>',31)])])}const u=t(s,[["render",p]]);export{c as __pageData,u as default};
